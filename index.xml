<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>疯狂的茶几 – 疯狂的茶几</title><link>/</link><description>Recent content on 疯狂的茶几</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 26 Jul 2022 14:46:59 +0000</lastBuildDate><atom:link href="/index.xml" rel="self" type="application/rss+xml"/><item><title>Releases: Changes in MySQL 8.0.30</title><link>/releases/mysql/8-0-30/</link><pubDate>Tue, 26 Jul 2022 14:46:59 +0000</pubDate><guid>/releases/mysql/8-0-30/</guid><description>
&lt;h3 id="character-set-support">Character Set Support&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Important Change:&lt;/strong> A previous change renamed character sets having deprecated names prefixed with &lt;code>utf8_&lt;/code> to use &lt;code>utf8mb3_&lt;/code> instead. In this release, we rename the &lt;code>utf8_&lt;/code> collations as well, using the &lt;code>utf8mb3_&lt;/code> prefix; this is to make the collation names consistent with those of the character sets, not to rely any longer on the deprecated collation names, and to clarify the distinction between &lt;code>utf8mb3&lt;/code> and &lt;code>utf8mb4&lt;/code>. The names using the &lt;code>utf8mb3_&lt;/code> prefix are now used exclusively for these collations in the output of &lt;code>SHOW&lt;/code> statements such as &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/show-create-table.html">&lt;code>SHOW CREATE TABLE&lt;/code>&lt;/a>, as well as in the values displayed in the columns of Information Schema tables including the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/information-schema-collations-table.html">&lt;code>COLLATIONS&lt;/code>&lt;/a> and &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/information-schema-columns-table.html">&lt;code>COLUMNS&lt;/code>&lt;/a> tables. (Bug #33787300)&lt;/p>
&lt;p>References: See also: Bug #30624990.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Important Change:&lt;/strong> When more than one language had the same collation definition, MySQL implemented collations for only one of the languages. This meant that some languages were covered only by &lt;code>utf8mb4&lt;/code> Unicode 9.0 collations that are specific to other languages. This release fixes such issues by adding language-specific collations for those languages that were previously covered only by language-specific collations for other languages. The new collations are listed here:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;em>Norwegian&lt;/em>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>(Bokmål) &lt;code>utf8mb4_nb_0900_ai_ci&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(Bokmål) &lt;code>utf8mb4_nb_0900_as_cs&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(Nynorsk) &lt;code>utf8mb4_nn_0900_ai_ci&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(Nynorsk) &lt;code>utf8mb4_nn_0900_as_cs&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;em>Serbian with Latin characters&lt;/em>:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>utf8mb4_sr_latn_0900_ai_ci&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>utf8mb4_sr_latn_0900_as_cs&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;em>Bosnian with Latin characters&lt;/em>:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>utf8mb4_bs_0900_ai_ci&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>utf8mb4_bs_0900_as_cs&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;em>Bulgarian&lt;/em>:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>utf8mb4_bg_0900_ai_ci&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>utf8mb4_bg_0900_as_cs&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;em>Galician&lt;/em>:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>utf8mb4_gl_0900_ai_ci&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>utf8mb4_gl_0900_as_cs&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;em>Mongolian with Cyrillic letters&lt;/em>:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>utf8mb4_mn_cyrl_0900_ai_ci&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>utf8mb4_mn_cyrl_0900_as_cs&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>For more information, see &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/charset-unicode-sets.html#charset-unicode-sets-language-specific-collations">Language-Specific Collations&lt;/a>. (Bug #31885256)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="compilation-notes">Compilation Notes&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>On Enterprise Linux, fixed ADD_LINUX_RPM_FLAGS so that the initial values of CMAKE_C_FLAGS and CMAKE_CXX_FLAGS are used before modifying them. (Bug #34131794)&lt;/p>
&lt;p>References: This issue is a regression of: Bug #33730302.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Added a new SHOW_SUPPRESSED_COMPILER_WARNINGS CMake option. Enable it to show suppressed compiler warnings, and do so without failing with -Werror. It defaults to OFF. (Bug #34046748)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>On Windows, deprecation warnings (C4996) were globally disabled with the /wd4996 command-line option; now deprecation warnings are disabled on the localized level where appropriate. (Bug #33975638)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Improved GCC 8 support to include -lstdc++fs in order to use std::filesystem. (Bug #33939798)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="deprecation-and-removal-notes">Deprecation and Removal Notes&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Replication:&lt;/strong> Setting the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/replication-options-replica.html#sysvar_replica_parallel_workers">&lt;code>replica_parallel_workers&lt;/code>&lt;/a> system variable (or the equivalent server option &lt;code>--replica-parallel-workers&lt;/code>) to 0 is now deprecated, and doing so now raises a warning.&lt;/p>
&lt;p>To achieve the same result (that is, use single threading) without the warning, set &lt;code>replica_parallel_workers=1&lt;/code> instead.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/server-options.html#option_mysqld_skip-host-cache">&lt;code>--skip-host-cache&lt;/code>&lt;/a> server option is now deprecated, and subject to removal in a future release.&lt;/p>
&lt;p>Use a statement such as &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/set-variable.html">&lt;code>SET GLOBAL host_cache_size = 0&lt;/code>&lt;/a>, or set &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_host_cache_size">&lt;code>host_cache_size&lt;/code>&lt;/a> in the &lt;code>my.cnf&lt;/code> file, instead.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/server-options.html#option_mysqld_old-style-user-limits">&lt;code>--old-style-user-limits&lt;/code>&lt;/a> option causes the server to enforce user limits as they were prior to MySQL 5.0.3, and is intended for backwards compatibility with very old releases. This option is now deprecated, and using it now raises a warning. You should expect this option to be removed in a future release of MySQL, and so you are advised to begin now to remove any dependency your MySQL applications might have on this option.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="generated-invisible-primary-keys-gipks">Generated Invisible Primary Keys (GIPKs)&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>MySQL 8.0.30 now supports GIPK mode, which causes a generated invisible primary key (GIPK) to be added to any &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-storage-engine.html">&lt;code>InnoDB&lt;/code>&lt;/a> table that is created without an explicit primary key. This enhancement applies to &lt;code>InnoDB&lt;/code> tables only.&lt;/p>
&lt;p>The definition of the generated key column added to an &lt;code>InnoDB&lt;/code> table by GIPK mode is is shown here:&lt;/p>
&lt;p>Press ⌘+C to copy&lt;/p>
&lt;p>&lt;code>my_row_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT INVISIBLE PRIMARY KEY&lt;/code>&lt;/p>
&lt;p>The name of the generated primary key is always &lt;code>my_row_id&lt;/code>; you cannot, while GIPK mode is in effect, use this as a column name in a &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/create-table.html">&lt;code>CREATE TABLE&lt;/code>&lt;/a> statement that creates a new &lt;code>InnoDB&lt;/code> table unless it includes an explicit primary key.&lt;/p>
&lt;p>GIPKs are not enabled by default. To enable them, set the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_sql_generate_invisible_primary_key">&lt;code>sql_generate_invisible_primary_key&lt;/code>&lt;/a> server system variable (also introduced in this release) to &lt;code>ON&lt;/code>. This setting has no effect on replication applier threads; this means that a replica never generates a primary key for a replicated table that was not created on the source with a primary key.&lt;/p>
&lt;p>You cannot alter a generated invisible primary key while GIPKs are in effect, with one exception: You can toggle the visibility of the GIPK using &lt;code>ALTER TABLE *`tbl`* CHANGE COLUMN my_row_id SET VISIBLE&lt;/code> and &lt;code>ALTER TABLE *`tbl`* CHANGE COLUMN my_row_id SET INVISIBLE&lt;/code>.&lt;/p>
&lt;p>By default, generated invisible primary keys can be seen in the output of &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/show-create-table.html">&lt;code>SHOW CREATE TABLE&lt;/code>&lt;/a> and &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/show-index.html">&lt;code>SHOW INDEX&lt;/code>&lt;/a>; they are also visible in MySQL Information Schema tables such as the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/information-schema-columns-table.html">&lt;code>COLUMNS&lt;/code>&lt;/a> and &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/information-schema-statistics-table.html">&lt;code>STATISTICS&lt;/code>&lt;/a> tables. You can make them hidden instead by setting &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_show_gipk_in_create_table_and_information_schema">&lt;code>show_gipk_in_create_table_and_information_schema&lt;/code>&lt;/a> to &lt;code>OFF&lt;/code>.&lt;/p>
&lt;p>You can exclude generated invisible primary keys from the output of &lt;strong>mysqldump&lt;/strong> using the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html#option_mysqldump_skip-generated-invisible-primary-key">&lt;code>--skip-generated-invisible-primary-key&lt;/code>&lt;/a> option added in this release. &lt;strong>mysqlpump&lt;/strong> also now supports a &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/mysqlpump.html#option_mysqlpump_skip-generated-invisible-primary-key">&lt;code>--skip-generated-invisible-primary-key&lt;/code>&lt;/a> option which excludes GIPKs from its output.&lt;/p>
&lt;p>For more information and examples, see &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/create-table-gipks.html">Generated Invisible Primary Keys&lt;/a>. For general information on invisible column support in MySQL, see &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/invisible-columns.html">Invisible Columns&lt;/a>. (Bug #34092605)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="keyring-notes">Keyring Notes&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>The &lt;code>keyring_aws&lt;/code> plugin has been updated to use the latest AWS Encryption SDK for C (version 1.9.186).&lt;/p>
&lt;p>The &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/keyring-system-variables.html#sysvar_keyring_aws_region">&lt;code>keyring_aws_region&lt;/code>&lt;/a> variable supports the additional AWS regions supported by the new SDK. Refer to the variable description for a list of supported AWS regions.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="pluggable-authentication">Pluggable Authentication&lt;/h3>
&lt;ul>
&lt;li>The SASL LDAP plugin failed to properly parse Kerberos Key Distribution Center (KDC) host information read from the Kerberos configuration file, resulting in SASL authentication error. (Bug #31862170)&lt;/li>
&lt;/ul>
&lt;h3 id="security-notes">Security Notes&lt;/h3>
&lt;ul>
&lt;li>It is now possible to compile the MySQL server package (&lt;strong>mysqld&lt;/strong> + &lt;code>libmysql&lt;/code> + client tools) using OpenSSL 3.0 on supported platforms, which should not change the behavior of the server or client programs. For additional information, see &lt;a href="https://wiki.openssl.org/index.php/OpenSSL_3.0">https://wiki.openssl.org/index.php/OpenSSL_3.0&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h3 id="spatial-data-support">Spatial Data Support&lt;/h3>
&lt;ul>
&lt;li>Previously, the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/spatial-operator-functions.html#function_st-transform">&lt;code>ST_TRANSFORM()&lt;/code>&lt;/a> function added in MySQL 8.0.13 did not support Cartesian Spatial Reference Systems. Beginning with this release, support is provided by this function for the Popular Visualisation Pseudo Mercator (EPSG 1024) projection method, used for WGS 84 Pseudo-Mercator (SRID 3857).&lt;/li>
&lt;/ul>
&lt;h3 id="sql-syntax-notes">SQL Syntax Notes&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>It is now possible to determine whether a &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/revoke.html">&lt;code>REVOKE&lt;/code>&lt;/a> statement which cannot be executed raises an error or a warning. This is implemented with the addition of two new statement options, listed here with brief descriptions:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>IF EXISTS&lt;/code> causes &lt;code>REVOKE&lt;/code> to raise a warning rather than an error as long as the target user or role does not exist.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>IGNORE UNKNOWN USER&lt;/code> causes &lt;code>REVOKE&lt;/code> to raise a warning instead of an error if the target user or role is not known, but the statement would otherwise succeed.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>For a single target user or role and a given privilege or role to be removed, using the &lt;code>IF EXISTS&lt;/code> and &lt;code>IGNORE UNKNOWN USER&lt;/code> options together in the same &lt;code>REVOKE&lt;/code> statement means that the statement succeeds (albeit doing nothing, and with a warning), even if both the target user or role and the privilege or role to be removed are unknown, as long as the statement is otherwise valid. In the case of multiple targets, multiple privileges or roles to be removed, or both, the statement succeeds, performing those removals which are valid, and issuing warnings for those which are not.&lt;/p>
&lt;p>For more information, see &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/revoke.html">REVOKE Statement&lt;/a>. (Bug #102232, Bug #32495441)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="xa-transaction-notes">XA Transaction Notes&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Replication:&lt;/strong> Previously, recovery was not guaranteed when a server node in a replication topology unexpectedly halted while executing &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/xa-statements.html">&lt;code>XA PREPARE&lt;/code>&lt;/a>, &lt;code>XA COMMIT&lt;/code>, or &lt;code>XA ROLLBACK&lt;/code>. To address this problem, MySQL now maintains consistent XA transaction state across a topology using either MySQL “classic” Replication or MySQL Group Replication when a server node is lost from the topology and then regained. This also means that XA transaction state is now propagated so that nodes do not diverge while doing work within a given transaction in the event that a server node halts, recovers, and rejoins the topology.&lt;/p>
&lt;p>For any multi-server replication topology (including one using Group Replication), the XA transaction state propagates consistently, so that all servers remain in the same state at all times. For any such topology of any size (including a single server, as long as binary logging is enabled), it is now possible to recover any server to a consistent state after it has halted unexpectedly and been made to rejoin the topology after dropping out.&lt;/p>
&lt;p>This enhancement is implemented for the case of a single server by adding support for a two-phase XA prepare between the storage engine and the server&amp;rsquo;s internal transaction coordinator (ITC), with the state of the prepare retained by both. This means that the ITC can purge its internal logs safely, without the risk of losing state, should the server halt following the purge. In the single-node case, imposing order of execution between the storage engine and the binary log prevents externalization of GTIDs before the corresponding changes become visible to the storage engine; in a topology comprising multiple servers, this keeps the transaction state from being broadcast to the topology before it is guaranteed to be locally consistent and persistent. In all cases, the state of the XA transaction is extracted from the last binary log file to be written and synchronized with the transaction state obtained from the storage engine.&lt;/p>
&lt;p>A known issue in this release can be encountered when the same transaction XID has been used to execute XA transactions sequentially. If there a disruption in operation occurs while the server is processing &lt;code>XA COMMIT ... ONE PHASE&lt;/code> using this same XID, after the transaction has been prepared in the storage engine, the state between the binary log and the storage engine can no longer be reliably synchronized. See&lt;/p>
&lt;p>For more information, see &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/xa.html">XA Transactions&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="functionality-added-or-changed">Functionality Added or Changed&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Important Change:&lt;/strong> Binary packages that include curl rather than linking to the system curl library have been upgraded to use curl 7.83.1. (Bug #34138733)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Important Change:&lt;/strong> For platforms on which OpenSSL libraries are bundled, the linked OpenSSL library for MySQL Server has been updated to version 1.1.1o. Issues fixed in OpenSSL version 1.1.1o are described at &lt;a href="https://www.openssl.org/news/cl111.txt">https://www.openssl.org/news/cl111.txt&lt;/a> and &lt;a href="https://www.openssl.org/news/vulnerabilities.html">https://www.openssl.org/news/vulnerabilities.html&lt;/a>. (Bug #34133985)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Important Change:&lt;/strong> The &lt;code>fido2&lt;/code> library included with MySQL, used with the &lt;code>authentication_fido&lt;/code> plugin, has been upgraded to version 1.8.0. (Previously, version 1.5.0 was included with MySQL.)&lt;/p>
&lt;p>For more information, see &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/fido-pluggable-authentication.html">FIDO Pluggable Authentication&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> The &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-parameters.html#sysvar_innodb_doublewrite">&lt;code>innodb_doublewrite&lt;/code>&lt;/a> system variable, which enables or disables the doublewrite buffer, has two new settings, &lt;code>DETECT_ONLY&lt;/code> and &lt;code>DETECT_AND_RECOVER&lt;/code>. With the &lt;code>DETECT_ONLY&lt;/code> setting, database page content is not written to the doublewrite buffer, and recovery does not use the doublewrite buffer to fix incomplete page writes. This lightweight setting is intended for detecting incomplete page writes only. The &lt;code>DETECT_AND_RECOVER&lt;/code> setting is equivalent to the existing &lt;code>ON&lt;/code> setting. For more information, see &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-doublewrite-buffer.html">Doublewrite Buffer&lt;/a>.&lt;/p>
&lt;p>Thanks to Facebook for the contribution. (Bug #32727919, Bug #103211)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> &lt;code>InnoDB&lt;/code> now supports dynamic configuration of redo log capacity. The &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-parameters.html#sysvar_innodb_redo_log_capacity">&lt;code>innodb_redo_log_capacity&lt;/code>&lt;/a> system variable can be set at runtime to increase or decrease the total amount of disk space occupied by redo log files.&lt;/p>
&lt;p>With this change, the number of redo log files and their default location has also changed. From MySQL 8.0.30, &lt;code>InnoDB&lt;/code> maintains 32 redo log files in the &lt;code>#innodb_redo&lt;/code> directory in the data directory. Previously, &lt;code>InnoDB&lt;/code> created two redo log files in the data directory by default, and the number and size of redo log files were controlled by the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-parameters.html#sysvar_innodb_log_files_in_group">&lt;code>innodb_log_files_in_group&lt;/code>&lt;/a> and &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-parameters.html#sysvar_innodb_log_file_size">&lt;code>innodb_log_file_size&lt;/code>&lt;/a> variables. These two variables are now deprecated.&lt;/p>
&lt;p>When the &lt;code>innodb_redo_log_capacity&lt;/code> setting is defined, &lt;code>innodb_log_files_in_group&lt;/code> and &lt;code>innodb_log_file_size&lt;/code> settings are ignored; otherwise, those settings are used to compute the &lt;code>innodb_redo_log_capacity&lt;/code> setting (&lt;code>innodb_log_files_in_group&lt;/code> * &lt;code>innodb_log_file_size&lt;/code> = &lt;code>innodb_redo_log_capacity&lt;/code>). If none of those variables are set, redo log capacity is set to the &lt;code>innodb_redo_log_capacity&lt;/code> default value, which is 104857600 bytes (100MB).&lt;/p>
&lt;p>Several status variables are provided for monitoring the redo log and redo log capacity resize operations.&lt;/p>
&lt;p>As is generally required for any upgrade, this change requires a clean shutdown before upgrading.&lt;/p>
&lt;p>For more information about this feature, see &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-redo-log.html">Redo Log&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Added Ubuntu 22.04 support. (Bug #34123545)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The order of the columns in the primary key definition for a few tables in the &lt;code>mysql&lt;/code> schema has been changed, so that the columns containing the host name and user name are together in sequence at the start of the primary key. ACL queries on these tables are performed using only the host name and user name, and if those columns are not together in sequence, a full table scan must be performed to identify the relevant record. Placing the host name and user name together means that index lookup can be used, which improves performance for &lt;code>CREATE USER&lt;/code>, &lt;code>DROP USER&lt;/code>, and &lt;code>RENAME USER&lt;/code> statements, and for ACL checks for multiple users with multiple privileges.&lt;/p>
&lt;p>The changed tables are &lt;code>mysql.db&lt;/code>, &lt;code>mysql.tables_priv&lt;/code>, &lt;code>mysql.columns_priv&lt;/code> and &lt;code>mysql.procs_priv&lt;/code>. When you upgrade to MySQL 8.0.30 or later, these tables are modified in the second step of the MySQL upgrade process. Use the &lt;code>--upgrade=FORCE&lt;/code> option when performing logical upgrades using a backup or export utility such as &lt;strong>mysqldump&lt;/strong> or &lt;strong>mysqlpump&lt;/strong>, which ensures that the table structures are checked and rebuilt with the new column order. (Bug #33644645, Bug #33637244)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_myisam_repair_threads">&lt;code>myisam_repair_threads&lt;/code>&lt;/a> system variable and &lt;strong>myisamchk&lt;/strong> &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/myisamchk-repair-options.html#option_myisamchk_parallel-recover">&lt;code>--parallel-recover&lt;/code>&lt;/a> option were removed. (Bug #31052408)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A new &lt;strong>mysqldump&lt;/strong> option &lt;code>--mysqld-long-query-time&lt;/code> lets you set a custom value of the &lt;code>long_query_time&lt;/code> system variable for &lt;strong>mysqldump&lt;/strong>’s session. Use the new option to increase the elapsed time allowed for &lt;strong>mysqldump&lt;/strong>’s queries before they are written to the slow query log file, in order to avoid unnecessary logging. Thanks to Facebook for the contribution. (Bug #96369, Bug #96369, Bug #30110717)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Error log components can now be loaded implicitly at startup before the &lt;code>InnoDB&lt;/code> storage engine is available. This new method of loading error log components loads and enables the components defined by the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_log_error_services">&lt;code>log_error_services&lt;/code>&lt;/a> variable.&lt;/p>
&lt;p>Previously, error log components had to be installed first using &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/install-component.html">&lt;code>INSTALL COMPONENT&lt;/code>&lt;/a> and were only loaded after &lt;code>InnoDB&lt;/code> was fully available, as the list of components to load was read from the &lt;code>mysql.components&lt;/code> table, which is an &lt;code>InnoDB&lt;/code> table.&lt;/p>
&lt;p>Implicit load of error log components has these advantages:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Log components are loaded early in the startup sequence, making logged information available sooner.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>It helps avoid loss of buffered log information should a failure occur during startup.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Loading log components using &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/install-component.html">&lt;code>INSTALL COMPONENT&lt;/code>&lt;/a> is not required, simplifying error log configuration.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>For more information about this feature, see &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/error-log-configuration.html">Error Log Configuration&lt;/a>.&lt;/p>
&lt;p>If you have previously installed loadable log components using &lt;code>INSTALL COMPONENT&lt;/code> and you list those components in a &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_log_error_services">&lt;code>log_error_services&lt;/code>&lt;/a> setting that is read at startup (from an option file, for example), your configuration should be updated to avoid startup warnings. For more information, see &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/error-log-configuration.html#error-log-configuration-methods">Error Log Configuration Methods&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>MySQL Enterprise Audit’s audit log file can now be extended with optional data fields to show the query time, the number of bytes sent and received, the number of rows returned to the client, and the number of rows examined. This data is available in the slow query log for qualifying queries, and in the context of the audit log it similarly helps to detect outliers for activity analysis. It is delivered to the audit log through new component services that you set up as an audit log filtering function. The extended data fields can only be added when the audit log is in JSON format (&lt;code>audit_log_format=JSON&lt;/code>), which is not the default setting.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>MySQL Server’s &lt;code>AES_ENCRYPT()&lt;/code> and &lt;code>AES_DECRYPT()&lt;/code> functions now support the use of a key derivation function (KDF) to create a cryptographically strong secret key from information such as a password or a passphrase that you pass to the function. The derived key is used to encrypt and decrypt the data, and it remains in the MySQL Server instance and is not accessible to users. Using a KDF is highly recommended, as it provides better security than specifying your own premade key or deriving it by a simpler method when you use the function. The functions support HKDF (available from OpenSSL 1.1.0), for which you can specify an optional salt and context-specific information to include in the keying material, and PBKDF2 (available from OpenSSL 1.0.2), for which you can specify an optional salt and set the number of iterations used to produce the key.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A new system status variable &lt;code>Tls_library_version&lt;/code> shows the runtime version of the OpenSSL library that is in use for the MySQL instance. The version of OpenSSL affects features such as support for TLSv1.3.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>From MySQL 8.0.30, MySQL Enterprise Encryption’s functions are provided by a component, rather than being installed from the &lt;code>openssl_udf&lt;/code> shared library. The new functions provided by the component use only the generally preferred RSA algorithm, not the DSA algorithm or the Diffie-Hellman key exchange method, and they follow current best practice on minimum key size. The component functions also add support for SHA3 for digests (provided that OpenSSL 1.1.1 is in use), and do not require digests for signatures, although they support them.&lt;/p>
&lt;p>If you upgrade to MySQL 8.0.30 from an earlier release where the functions are installed manually from the &lt;code>openssl_udf&lt;/code> shared library file, the functions you created remain available and are supported. However, these legacy functions are deprecated from this release, and it is recommended that you install the component instead. The component functions are backward compatible, so RSA public and private keys, encrypted data, and signatures that were produced by the legacy functions can be used with the component functions. For the component functions to support decryption and verification for content produced by the legacy functions, you must set the new system variable &lt;code>enterprise_encryption.rsa_support_legacy_padding&lt;/code> to &lt;code>ON&lt;/code> (the default is &lt;code>OFF&lt;/code>).&lt;/p>
&lt;p>The component functions generate public and private RSA keys in PKCS #8 format. They allow a minimum key size of 2048 bits, which is a suitable minimum RSA key length for current best practice. You can set a maximum key size up to 16384 bits using the system variable &lt;code>enterprise_encryption.maximum_rsa_key_size&lt;/code>, which defaults to a maximum key size of 4096 bits.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Connections whose users have the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin">&lt;code>CONNECTION_ADMIN&lt;/code>&lt;/a> privilege are not terminated when MySQL Server is set to offline mode, which is done by changing the value of the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_offline_mode">&lt;code>offline_mode&lt;/code>&lt;/a> system variable to &lt;code>ON&lt;/code>. Previously, checking for connections that had the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin">&lt;code>CONNECTION_ADMIN&lt;/code>&lt;/a> privilege could cause a race condition because it involved accessing other threads. Now, a flag for each thread caches whether or not the user for the thread has the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin">&lt;code>CONNECTION_ADMIN&lt;/code>&lt;/a> privilege. The flag is updated if the user privilege changes. When offline mode is activated for the server, this flag is checked for each thread, rather than the security context of another thread. This change makes the operation threadsafe.&lt;/p>
&lt;p>In addition, when offline mode is activated, connections whose users have the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-user">&lt;code>SYSTEM_USER&lt;/code>&lt;/a> privilege are now only terminated if the user that runs the operation also has the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-user">&lt;code>SYSTEM_USER&lt;/code>&lt;/a> privilege. Users that only have the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-variables-admin">&lt;code>SYSTEM_VARIABLES_ADMIN&lt;/code>&lt;/a> privilege, and do not have the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-user">&lt;code>SYSTEM_USER&lt;/code>&lt;/a> privilege, can set the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_offline_mode">&lt;code>offline_mode&lt;/code>&lt;/a> system variable to &lt;code>ON&lt;/code> to activate offline mode. However, when they run the operation, any sessions whose users have the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-user">&lt;code>SYSTEM_USER&lt;/code>&lt;/a> privilege remain connected, in addition to any sessions whose users have the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin">&lt;code>CONNECTION_ADMIN&lt;/code>&lt;/a> privilege. This only applies to existing connections at the time of the operation; users with the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-user">&lt;code>SYSTEM_USER&lt;/code>&lt;/a> privilege but without the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin">&lt;code>CONNECTION_ADMIN&lt;/code>&lt;/a> privilege cannot make new connections to a system in offline mode.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://dev.mysql.com/doc/refman/8.0/en/performance-schema.html">Performance Schema&lt;/a> provides instrumentation for performance monitoring of Group Replication memory usage.&lt;/p>
&lt;p>See &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-gr-memory-monitoring-ps-instruments.html">Monitoring Group Replication Memory Usage with Performance Schema Memory Instrumentation&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="bugs-fixed">Bugs Fixed&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> A &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/truncate-table.html">&lt;code>TRUNCATE TABLE&lt;/code>&lt;/a> operation failed to remove data dictionary entries for columns that were dropped using &lt;code>ALGORITHM=INSTANT&lt;/code>.&lt;/p>
&lt;p>Thanks to Marcelo Altmann for the contribution. (Bug #34302445)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> An incorrect nullable column calculation on tables with instantly added columns caused data to be interpreted incorrectly. (Bug #34243694)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> After upgrading to MySQL 8.0.29, a failure occurred when attempting to access a table with an instantly added column. (Bug #34233264)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> Only the physical position of instantly added columns was logged, which was not sufficient for index recovery. The logical position of columns was also required. (Bug #34181432)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> The &lt;code>field_phy_pos&lt;/code> debug variable in the &lt;code>InnoDB&lt;/code> sources was not updated for child tables during a cascading update operation. (Bug #34181419)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> Some instances of the &lt;code>rec_get_instant_row_version_old()&lt;/code> function in the InnoDB sources did not check for row versioning. (Bug #34173616)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> The &lt;code>read_2_bytes()&lt;/code> function in the InnoDB sources, which reads bytes from the log buffer, returned a null pointer. (Bug #34173425)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> In the Performance Schema instrumentation for InnoDB read-write locks, lock acquisition failures and successes for TRY (no-wait) operations were instrumented incorrectly. (Bug #34131395)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> In a specific locking scenario, an implicit lock was not converted to an explicit lock as expected, triggering a &lt;code>lock_rec_has_expl(LOCK_X | LOCK_REC_NOT_GAP, block, heap_no, trx&lt;/code>) debug assertion failure. (Bug #34123159)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> A check that determines if a table has instantly added columns was performed for each column, which affected the performance of &lt;code>ADD&lt;/code> and &lt;code>DROP COLUMN&lt;/code> operations on tables with numerous columns. The check is now performed once per table. (Bug #34112147)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> A workload that generated a large number of lock requests and numerous timeouts caused a long semaphore wait failure. To address this issue, optimizations were implemented to reduce the number of exclusive global lock system latches. (Bug #34097862)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> The &lt;code>m_flush_bit&lt;/code> in the redo log block header, which was set for the first block of multiple blocks written in a single log write call, provided no benefit and has been removed. (Bug #34091444)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> Fixed clang-tidy and cppcheck warnings, which included the removal of unused code and unnecessary checks. (Bug #33957087)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> Recovery of a redo log file mini-transaction (&lt;code>mtr&lt;/code>) caused a debug assertion failure on a MySQL Server instance with a small &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-parameters.html#sysvar_innodb_log_buffer_size">&lt;code>innodb_log_buffer_size&lt;/code>&lt;/a> setting.&lt;/p>
&lt;p>Thanks to Mengchu Shi for the contribution. (Bug #33945602)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> Compiling with the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/source-configuration-options.html#option_cmake_with_valgrind">&lt;code>WITH_VALGRIND&lt;/code>&lt;/a> source configuration option produced &lt;code>Wunused-variable&lt;/code> warnings. (Bug #33899862)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> Multiple issues with the lock-free hash table (&lt;code>ut_lock_free_hash_t&lt;/code>) were addressed. (Bug #33830934)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> A query on a generated column with a secondary index caused a failure. The field number representing the position of the generated column was not valid. (Bug #33825077)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> Memory consumption was greater than expected when updating and inserting rows with multi-valued index columns. The memory allocated for multi-valued columns for each row update was held until the file handle was released. (Bug #33766482)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> The &lt;code>UT_LOCATION_HERE&lt;/code> structure in the &lt;code>InnoDB&lt;/code> sources was not used consistently. (Bug #33436161)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> A table object needed to retrieve an array of values from a multi-valued index column when computing the value of a generated column was unavailable. (Bug #32725063)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> A 4GB tablespace file size limit on Widows 32-bit systems has been removed. The limit was due to an incorrect calculation performed while extending the tablespace. (Bug #28934351)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> Hash and random generator functions in the &lt;code>InnoDB&lt;/code> sources were improved. (Bug #16739204, Bug #23584861)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> A &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/drop-table.html">&lt;code>DROP TABLE&lt;/code>&lt;/a> operation on a table with a discarded tablespace caused an unnecessary assertion failure. (Bug #107207, Bug #34135187)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> A query on a table with a &lt;code>JSON&lt;/code> column returned only a partial result set after adding a multi-valued index. (Bug #106621, Bug #33917625)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> Purging a record with multiple binary large object values raised an insertion failure due to a mini-transaction (mtr) conflict. (Bug #105592, Bug #33574272)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>InnoDB:&lt;/strong> Enabling the adaptive hash index (AHI) on a high-concurrency instance caused temporary AHI search latch contention while the hash index was being built.&lt;/p>
&lt;p>Thanks to Zhou Xinjing from CDB Team at Tencent for the patch. (Bug #100512, Bug #31750840)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Packaging:&lt;/strong> The SASL LDAP clientside plugin was missing from the MySQL Community packages for Windows.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Replication:&lt;/strong> When a table definition diverged between the source and the replica because the replica had an extra primary key, updates and deletes on the replica would fail if that table had an index that was present both on the source and the replica. Primary keys for an InnoDB table are automatically included in all indexes, and the replication applier needs values for all parts of the key to be included in an event in order to search the index. Previously, the applier checked that all the user-defined key parts were present, but the check did not cover hidden primary keys that were automatically included. The applier now validates that both user-defined and automatically included key parts are present in an event before using the index to search the data. (Bug #34122738)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Replication:&lt;/strong> The write sets extracted by MySQL Replication from transactions when the &lt;code>transaction_write_set_extraction&lt;/code> system variable is enabled (which is the default) are extracted from primary keys, unique keys, and foreign keys. They are used to detect dependencies and conflicts between transactions. Previously, write sets involving multi-column foreign keys were incorrectly identifying each column as a separate foreign key. The issue has now been fixed and foreign key write sets include all referenced key columns. (Bug #34095747, Bug #34144531)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Replication:&lt;/strong> When row-based replication was in use, a replica could sometimes override the SQL mode value that was sent by the source, in an attempt to avoid issues with additional columns on the slave. In extreme cases this could lead to data divergence. The problem has been corrected so the replica now preserves the source’s SQL mode wherever possible. (Bug #33945038)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Replication:&lt;/strong> The &lt;code>COUNT_TRANSACTIONS_REMOTE_IN_APPLIER_QUEUE&lt;/code> column in the Performance Schema table &lt;code>replication_group_member_stats&lt;/code> could persistently show transactions related to view change events (&lt;code>View_change_log_event&lt;/code>) that had already been applied. These events are queued in the Group Replication applier channel but applied in the Group Replication recovery channel, causing a race condition that could result in the counter decrement being lost. The increment of the count now takes place at a more suitable point, and the counter for &lt;code>COUNT_TRANSACTIONS_REMOTE_IN_APPLIER_QUEUE&lt;/code> is also now set to zero when the applier is not busy. (Bug #33602354, Bug #33674059)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Replication:&lt;/strong> The message that is recorded when a member tries to rejoin a Group Replication topology when there is an old incarnation of the same server still present, has been upgraded from an informational note to a warning message. (Bug #32651024)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Replication:&lt;/strong> MySQL’s semisynchronous replication did not respect the value of the &lt;code>net_read_timeout&lt;/code> system variable and forced a read timeout of one millisecond. This could result in the function experiencing partial reads of acknowledgment messages and packets arriving out of order, while other connections in the MySQL system were functioning correctly. The value of the &lt;code>net_read_timeout&lt;/code> system variable is now applied to connections for semisynchronous replication. (Bug #101056, Bug #31976209)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Replication:&lt;/strong> When the &lt;code>--replicate-same-server-id&lt;/code> option was used to make the replica not skip events that have its own server ID, if the log file was rotated, replication stopped with an error. The log rotation event now checks and applies the current value of the option. (Bug #89375, Bug #27492990)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>API:&lt;/strong> Applications that previously used the MySQL client library to perform an automatic reconnection to the server received the following mysql_query error after the server was upgraded:&lt;/p>
&lt;p>[4031] The client was disconnected by the server because of inactivity. See wait_timeout and interactive_timeout for configuring this behavior. (Bug #105229, Bug #34007830)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Pushing a condition down to a derived table was not handled correctly in all cases. (Bug #34311090)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>After pushing down a condition to a derived table having a set operation, while folding an always true boolean condition, the rewrite was not correct due to not setting &lt;code>abort_on_null&lt;/code> to true for the cloned condition when making a copy during condition pushdown to a derived table with a set operation. (Bug #34298238)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A missing error return when processing an invalid &lt;code>ORDER BY&lt;/code> expression in a view definition led to an assert in debug builds. (Bug #34239456)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>MySQL Server would not compile with the latest version of Visual Studio 2022. (Bug #34231639)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>While attempting to clone a system variable during condition pushdown, the server sometimes could not determine the correct context of the cloned expression.&lt;/p>
&lt;p>To prevent this, we disallow condition pushdown to derived tables when they use system variables, or if the underlying expressions in the derived table contain system variables. (Bug #34205559)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Added Enterprise Linux 9 (EL9) support. (Bug #34190004)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>On macOS 11, MySQL Server did not have the correct entitlement to generate a core dump in the event of an unexpected server halt. A build option WITH_DEVELOPER_ENTITLEMENTS has been added to allow a build to generate core dumps. (Bug #34163987)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Improved error handling for &amp;lsquo;-DWITH_LIBEVENT=system&amp;rsquo; and &amp;lsquo;-DWITH_EDITLINE=system&amp;rsquo; on systems missing libevent-devel or libedit-devel. (Bug #34131334, Bug #34123545)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The fix for Bug #33830493 in MySQL 8.0.29 addressed the situation where if a MySQL instance stopped unexpectedly or was restarted shortly after a &lt;code>SET PERSIST&lt;/code> statement was used to record system variable settings, the configuration file &lt;code>mysqld-auto.cnf&lt;/code> could be left empty, in which case the server restart could not proceed. The persisted system variables are now written to a backup file, which is only renamed to &lt;code>mysqld-auto.cnf&lt;/code> after the success of the write has been verified, leaving the original &lt;code>mysqld-auto.cnf&lt;/code> file still available. On a restart, if a backup file with valid contents is found, the server reads from that file. Otherwise the &lt;code>mysqld-auto.cnf&lt;/code> file is used and the backup file is deleted. The file was not flushed to disk by this fix, so it was still possible for the issue to occur. This patch adds those operations. (Bug #34122866)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Fixed the -DENABLE_GCOV CMake option. (Bug #34113243)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_sensitive-variables-observer">&lt;code>SENSITIVE_VARIABLES_OBSERVER&lt;/code>&lt;/a> privilege, introduced in MySQL 8.0.29, is now granted to users with the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-variables-admin">&lt;code>SYSTEM_VARIABLES_ADMIN&lt;/code>&lt;/a> privilege during upgrade. Previously, the privilege was not granted to any database user during upgrade. (Bug #34068378)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A select from a view that used left joins did not return any results. (Bug #34060289)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Under certain circumstances &lt;code>TRUNCATE performance_schema.accounts&lt;/code> caused duplicated counts in &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/performance-schema-status-variable-tables.html">&lt;code>global_status&lt;/code>&lt;/a>.&lt;/p>
&lt;p>This occurred if some hosts were not instrumented. For example, if &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/performance-schema-system-variables.html#sysvar_performance_schema_hosts_size">&lt;code>performance_schema_hosts_size&lt;/code>&lt;/a> was set to a low value.&lt;/p>
&lt;p>Our thanks to Yuxiang Jiang and the Tencent team for the contribution. (Bug #34057013, Bug #106939)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>It was possible under certain conditions for &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/explain.html#explain-analyze">&lt;code>EXPLAIN ANALYZE&lt;/code>&lt;/a> to attempt access of an iterator that did not exist. (Bug #34051681)&lt;/p>
&lt;p>References: This issue is a regression of: Bug #33905399.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Support was added for compiling the &lt;code>keyring_oci&lt;/code> plugin with OpenSSL 3. (Bug #34043013)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Events recorded in the Performance Schema tables for thread creation and deletion were retained until server shutdown, instead of being removed when the client connection ended. Thread creation and deletion now takes place after the Performance Schema instrumentation is created for the user session, so it is cleaned up when the session ends. (Bug #34019988)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Upgraded the bundled zlib library to zlib 1.2.12. Also made zlib 1.2.12 the minimum zlib version supported, and removed WITH_ZLIB from the WITH_SYSTEM_LIBS CMake option. (Bug #34015600)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/information-functions.html#function_connection-id">&lt;code>CONNECTION_ID()&lt;/code>&lt;/a> function, since it returns a session ID which remains constant for the lifetime of the session, was treated as a constant function. This caused issues when &lt;code>CONNECTION_ID()&lt;/code> was used inside a trigger attached to a table which might be reused by other sessions. We fix this by making the function &lt;code>const&lt;/code> for execution, and returning the actual session ID when the function is evaluated. (Bug #34009876)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Executed &lt;code>codespell&lt;/code> on the majority of source code, and fixed the reported spelling errors in the code comments. (Bug #34006439)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The MySQL Enterprise Encryption &lt;code>openssl_udf&lt;/code> function library plugin was reimplemented to use OpenSSL 3 APIs. (Bug #33992115)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>FEDERATED&lt;/code> storage engine code was revised to address NULL pointer and variable access issues. (Bug #33962357)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Histograms in MySQL returned a selectivity estimate of &lt;code>0&lt;/code> for values that outside buckets. This meant that values might be missing from the histogram because they were missed during sampling, or because the histogram had grown stale. To prevent this, we introduce a constant lower bound of &lt;code>0.001&lt;/code> on the selectivity estimates produced by histograms. This choice of lower bound corresponds to the selectivity of a value or range that we are likely to miss during sampling.&lt;/p>
&lt;p>Using a constant lower bound rather than a statistical estimate for the selectivity of a missing value has the advantage of simplicity and predictability, and provides some protection against underestimating the selectivity due to stale histograms and within-bucket heuristics.&lt;/p>
&lt;p>For more information about histograms in MySQL, see &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/optimizer-statistics.html">Optimizer Statistics&lt;/a>. (Bug #33935417)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>For certain queries using a common table expression (CTE), &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/explain.html#explain-analyze">&lt;code>EXPLAIN ANALYZE&lt;/code>&lt;/a> did not provide any profiling data for the CTE even when the CTE was known to be executed. This happened when the following conditions were met:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>The CTE was referenced more than once in the query plan.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The first reference to the CTE (in the order of the output of &lt;code>EXPLAIN FORMAT=TREE&lt;/code>) was never executed.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>At least one of the subsequent references was executed at least once.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>The problem was that the CTE plan was always printed when encountering the first reference to the CTE; if that reference was never executed, the CTE was not materialized there; and thus there was no profiling data to print.&lt;/p>
&lt;p>The fix for this issue ensures that we print the CTE plan when it is first executed, that is, the point at which it is materialized. The output then includes profiling data. If the CTE is never executed, we print the plan at the last reference, when there is no profiling data. (Bug #33905399)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The output from the command &lt;code>mysqld --verbose --help&lt;/code> previously showed plugin load options as &lt;code>ON&lt;/code> even when they were off by default, or turned off using an option. The output now shows the current value for the plugin. (Bug #33870892)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The Server now bundles curl (7.83.1) and only uses it when alternative SSL systems are used, such as openssl11 on EL7. (Bug #33859507, Bug #34154806)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Debug MySQL binaries can now be built using &lt;code>-0g&lt;/code> and &lt;code>-fno-inline&lt;/code>. (Bug #33855533)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-exempt">&lt;code>FIREWALL_EXEMPT&lt;/code>&lt;/a> privilege, introduced in MySQL 8.0.27, is now granted to users with the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-user">&lt;code>SYSTEM_USER&lt;/code>&lt;/a> during upgrade. Previously, the privilege was not granted to any database user during upgrade. (Bug #33854409)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A correlated subquery did not use a functional index as expected. This occurred when an outer column reference used inside the subquery was not considered as constant for subquery execution, which allowed consideration of the functional index to be skipped.&lt;/p>
&lt;p>We fix this problem by making sure to consider the outer column reference as constant while executing the subquery. (Bug #33851055)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Added alternate OpenSSL system package support by passing in openssl11 on EL7 or openssl3 on EL8 to the WITH_SSL Cmake option. Authentication plugins, such as LDAP and Kerberos, are disabled as they do not support these alternative versions of OpenSSL. (Bug #33835934)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Prepared statements with subqueries that accessed no tables, but the subquery evaluation raised an error, triggered an assert failure in debug builds. (Bug #33773799)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Some stored functions were not executed correctly following the first invocation. (Bug #33754993)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>When performing a query using a recursive common table expression (CTE) with a removal of a query expression after constant predicate elimination, it is expected that when the reference count of table objects for the CTE temporary table reaches zero, it should be possible once again to recreate the table, but in certain cases one of the table references was not properly recorded as attached to the CTE. (Bug #33725503)&lt;/p>
&lt;p>References: See also: Bug #32962511.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Added a missing error return to the parser. (Bug #33725502)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A number of issues with pushdown of conditions making use of outer references, relating to work done in MySQL 8.0.22 to implement condition pushdown for materialized derived tables, have been identified and resolved. (Bug #33725403, Bug #33725500, Bug #33725508, Bug #33725534, Bug #33725545)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The plan generated for a &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/select.html">&lt;code>SELECT&lt;/code>&lt;/a> using a common table expression involves table materialization and an index scan on the materialized table. Because the &lt;code>temptable&lt;/code> engine does not yet support all index scan methods, such queries might not always execute correctly.&lt;/p>
&lt;p>With other MySQL engines, the materialization access path has special handling when the access path is not considered basic; for &lt;code>temptable&lt;/code>, an index scan was not considered basic, which led to undefined behavior.&lt;/p>
&lt;p>We fix this issue by considering the index scan access path basic, and thus avoiding use of any index scan access methods on &lt;code>temptable&lt;/code> tables. (Bug #33700735)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The &lt;code>Data_free&lt;/code> column in the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/information-schema-files-table.html">&lt;code>INFORMATION_SCHEMA.FILES&lt;/code>&lt;/a> table was not updated after adding a new data file to the &lt;code>InnoDB&lt;/code> system tablespace. (Bug #33508534)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>If a plugin attempted to register a system variable with a name that duplicated that of an existing system variable, the existing static system variable might be overwritten, and uninstalling the plugin might leave pointers to the freed memory. The issues have now been fixed. (Bug #33451101)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>SHOW TABLES&lt;/code> and &lt;code>SELECT * FROM INFORMATION_SCHEMA.TABLES&lt;/code> did not return any results from the Performance Schema if the user had access privileges on individual Performance Schema tables, only. (Bug #33283709)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Calling a function relating to the &lt;code>data_masking&lt;/code> plugin without first installing the plugin led to an unplanned server shutdown. Functions relating to this plugin are initialized by calling init functions which in turn access the UDF metadata service, but this is valid only when the data masking plugin is installed. We fix this problem by adding a check to verify that the plugin is installed before initializing such functions, and to return an appropriate error message if the plugin providing them is not installed. (Bug #33234046)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Under certain conditions, the server did not handle the expiration of &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_max_execution_time">&lt;code>max_execution_time&lt;/code>&lt;/a> or the execution of a &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/kill.html">&lt;code>KILL&lt;/code>&lt;/a> statement correctly. (Bug #33218625)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>mysqlslap&lt;/strong>, which uses multiple threads to connect to the server, could not run with a user account that used FIDO authentication. The issue has been fixed by an update to the FIDO library allowing the authentication to be performed on multiple threads. (Bug #33067183)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A deadlock could occur in Group Replication when a member was interacting with the service infrastructure, such as a joining member checking for incompatible configuration and then leaving the group due to it. The issue has now been fixed. (Bug #32688091)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>If an incorrect value was set for the &lt;code>binlog_checksum&lt;/code> system variable during a session, a &lt;strong>COM_BINLOG_DUMP&lt;/strong> command made in the same session to request a binary log stream from a source failed. The server now validates the specified checksum value before starting the checksum algorithm setup process. (Bug #32442749)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>For slow query logging, the &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/server-status-variables.html#statvar_Slow_queries">&lt;code>Slow_queries&lt;/code>&lt;/a> status variable was not implemented unless the slow query log was enabled, contrary to the documentation. (Bug #28268680, Bug #91496)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A prepared statement could accept an empty string as a valid float value, which represents a regression from 8.0.27 behavior. This fix explicitly checks that the length of an interpreted string is non-empty and fully interpreted as a (float) number. In addition, new verification now ensures that:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>All numeric values are supported with empty strings and strings that are all spaces.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Regular numeric values are supported, as well as numeric values with leading and trailing spaces.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>(Bug #107399, Bug #34213338)&lt;/p>
&lt;p>References: This issue is a regression of: Bug #32213576.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Upgrading to MySQL 8.0.29 led to issues with existing spatial indexes (see &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/creating-spatial-indexes.html">Creating Spatial Indexes&lt;/a>). The root cause of the problem was a change in how geographic area computations were performed by the included Boost library, which was upgraded to version 1.77.0 in MySQL 8.0.29. We fix this by ensuring that we accommodate the new method whenever such computations are performed. (Bug #107320, Bug #34184111)&lt;/p>
&lt;p>References: This issue is a regression of: Bug #33353637.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>When pushing a condition down to derived table for prepared statements, we clone a condition which also includes parameters when a derived table contains unions. When a statement needed to be reprepared during execution—for example, when the signedness of the value specified did not match that of the actual datatype—the parameter was not cloned correctly resulting in errors. This occurred because the value specified for the parameter was used to print the string for reparsing, instead of a literal &lt;code>?&lt;/code> placeholder character.&lt;/p>
&lt;p>Now in such cases we set a flag &lt;code>QT_NO_DATA_EXPANSION&lt;/code> for printing parameters for reparsing which, when enabled, causes the &lt;code>?&lt;/code> placeholder to be printed, rather than the actual value. (Bug #107230, Bug #34148712)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>On MacOS, improved Boost library detection logic for Homebrew as a potentially incompatible system&amp;rsquo;s Boost version could get used even with &lt;code>-DWITH_BOOST&lt;/code> set. (Bug #107151, Bug #34121866)&lt;/p>
&lt;p>References: This issue is a regression of: Bug #33769505.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>On RHEL 7.x, fetching the CPU cache line size returned 0 on s390x RHEL 7.x which caused rpl_commit_order_queue and integrals_lockfree_queue to fail.&lt;/p>
&lt;p>Our thanks to Namrata Bhave for the contribution. (Bug #107081, Bug #34095278)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>When the &lt;strong>mysql&lt;/strong> client was unable to reconnect to the server following an unexpected server halt, the process of building the completion hash allocated memory that was not freed. The reconnection operation now does not build the completion hash if the client fails to reconnect, and the memory concerned is freed if the client is disconnected. (Bug #106864, Bug #34019571)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Added a cycle timer for the s390x architecture.&lt;/p>
&lt;p>Our thanks to Namrata Bhave for the contribution. (Bug #106824, Bug #33997819)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>In certain cases, incorrect results could result from execution of a semijoin with materialization, when the &lt;code>WHERE&lt;/code> clause of the subquery contained an equality. In some cases, such as when one side of such an equality was an &lt;code>IN&lt;/code> or &lt;code>NOT IN&lt;/code> subquery, the equality was neither pushed down to the materialized subquery, nor evaluated as part of the semijoin. This also caused issues with some inner hash joins. (Bug #106710, Bug #106718, Bug #33952115, Bug #33957233)&lt;/p>
&lt;p>References: See also: Bug #84705, Bug #25466100.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Comparator functions for queries like &lt;code>(&amp;lt;date column&amp;gt; &amp;lt;non-date column&amp;gt;) IN ((val1, val2), (val3, val4), …)&lt;/code> could return the wrong results. (Bug #106567, Bug #33897969)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Fixed an assert definition in SetOsLimitMaxOpenFiles; our thanks to hongyuan li for the contribution. (Bug #106555, Bug #33893197)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Previously, it was assumed that, when the same non-nullable expression was used as both the first and second arguments to &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/string-comparison-functions.html#operator_like">&lt;code>LIKE&lt;/code>&lt;/a>, the result was always true, and so could be optimized away. This assumption turns out not to be valid, due to the fact that &lt;code>LIKE&lt;/code> treats the backslash (&lt;code>\&lt;/code>) as an escape character, even when &lt;code>ESCAPE&lt;/code> is not specified. This led to different results when the condition was used in the &lt;code>SELECT&lt;/code> list as opposed to the &lt;code>WHERE&lt;/code> clause. To fix the problem, we no longer perform this optimization with &lt;code>LIKE&lt;/code>, with or without an &lt;code>ESCAPE&lt;/code> clause. (Bug #106444, Bug #33852756)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>In some cases, when arguments other than global transaction IDs (such as column values) were passed to &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/gtid-functions.html#function_gtid-subset">&lt;code>GTID_SUBSET()&lt;/code>&lt;/a>, the function returned values other than the expected &lt;code>NULL&lt;/code>. (Bug #106298, Bug #33793942)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A problem with evaluation of general quantified comparison predicates occurred when the left-hand side of the predicate was &lt;code>NULL&lt;/code>. In such cases, the value of the subquery evaluation from the last current row is saved, so that it does not need re-evaluation, but the cached value (&lt;code>result_for_null_param&lt;/code>) was not cleared between executions, so that the next execution could re-use the result from the previous execution. One consequence of this was that, when a subquery execution first caused zero rows to match from the subquery—which for an &lt;code>ALL&lt;/code> predicate should return &lt;code>TRUE&lt;/code>—a subsequent execution causing at least one row to match also returned &lt;code>TRUE&lt;/code>, even though &lt;code>FALSE&lt;/code> was expected.&lt;/p>
&lt;p>To solve this issue, we now make sure to clear &lt;code>result_for_null_param&lt;/code> while cleaning up the subquery predicate following execution. (Bug #106164, Bug #37755139)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Test cases executed with the &lt;code>--async-client&lt;/code> option and shutdown commands caused &lt;strong>mysqltest&lt;/strong> to halt unexpectedly. (Bug #105797, Bug #33643149)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>MySQL supports the use of equiheight histograms to improve selectivity estimates. Each bucket in an equiheight histogram for a column should contain roughly the same number of values (rows); keeping the buckets small helps minimize any error.&lt;/p>
&lt;p>When constructing an equiheight histogram, too many values were sometime placed in the same bucket, which could result in substantial errors in selectivity estimation. We fix this by introducing a new equiheight construction algorithm that guarantees low error, and adapts to the distribution of the data to make efficient use of its buckets. In addition, a new estimator for the number of distinct values in histogram buckets provides improved worst-case error guarantees.&lt;/p>
&lt;p>See &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/information-schema-column-statistics-table.html">The INFORMATION_SCHEMA COLUMN_STATISTICS Table&lt;/a>, and &lt;a href="https://dev.mysql.com/doc/refman/8.0/en/optimizer-statistics.html">Optimizer Statistics&lt;/a>, for more information. (Bug #104789, Bug #33302021)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Deprecation warnings returned to client programs were sent to &lt;code>stdout&lt;/code> rather than &lt;code>stderr&lt;/code>, which in the case of &lt;strong>mysqldump&lt;/strong> could mean that the dump file no longer worked because the warnings were included in it. The issue has now been fixed and the warnings are sent to &lt;code>stderr&lt;/code>. (Bug #104769, Bug #33733529)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Extended support for chained SSL certificates. (Bug #54158, Bug #27491518)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="reference">Reference&lt;/h2>
&lt;p>&lt;a href="https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-30.html">https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-30.html&lt;/a>&lt;/p></description></item><item><title>Releases: Redis 7.0.4 Release Notes</title><link>/releases/redis/7-0-4/</link><pubDate>Mon, 18 Jul 2022 13:05:11 +0000</pubDate><guid>/releases/redis/7-0-4/</guid><description>
&lt;p>Upgrade urgency: SECURITY, contains fixes to security issues.&lt;/p>
&lt;p>Security Fixes:&lt;/p>
&lt;ul>
&lt;li>(CVE-2022-31144) A specially crafted XAUTOCLAIM command on a stream
key in a specific state may result with heap overflow, and potentially
remote code execution. The problem affects Redis versions 7.0.0 or newer.&lt;/li>
&lt;/ul>
&lt;h2 id="reference">Reference&lt;/h2>
&lt;p>&lt;a href="https://github.com/redis/redis/releases/tag/7.0.4">https://github.com/redis/redis/releases/tag/7.0.4&lt;/a>&lt;/p></description></item><item><title>Releases: Redis 7.0.3 Release Notes</title><link>/releases/redis/7-0-3/</link><pubDate>Mon, 11 Jul 2022 14:46:59 +0000</pubDate><guid>/releases/redis/7-0-3/</guid><description>
&lt;p>Upgrade urgency: MODERATE, specifically if you&amp;rsquo;re using a previous release of
Redis 7.0, contains fixes for bugs in previous 7.0 releases.&lt;/p>
&lt;h2 id="performance-and-resource-utilization-improvements">Performance and resource utilization improvements&lt;/h2>
&lt;ul>
&lt;li>Optimize zset conversion on large ZRANGESTORE (&lt;a href="https://github.com/redis/redis/pull/10789">#10789&lt;/a>)&lt;/li>
&lt;li>Optimize the performance of sending PING on large clusters (&lt;a href="https://github.com/redis/redis/pull/10624">#10624&lt;/a>)&lt;/li>
&lt;li>Allow for faster restart of Redis in cluster mode (&lt;a href="https://github.com/redis/redis/pull/10912">#10912&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h2 id="info-fields-and-introspection-changes">INFO fields and introspection changes&lt;/h2>
&lt;ul>
&lt;li>Add missing sharded pubsub keychannel count to CLIENT LIST (&lt;a href="https://github.com/redis/redis/pull/10895">#10895&lt;/a>)&lt;/li>
&lt;li>Add missing pubsubshard_channels field in INFO STATS (&lt;a href="https://github.com/redis/redis/pull/10929">#10929&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h2 id="module-api-changes">Module API changes&lt;/h2>
&lt;ul>
&lt;li>Add RM_StringToULongLong and RM_CreateStringFromULongLong (&lt;a href="https://github.com/redis/redis/pull/10889">#10889&lt;/a>)&lt;/li>
&lt;li>Add RM_SetClientNameById and RM_GetClientNameById (&lt;a href="https://github.com/redis/redis/pull/10839">#10839&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h2 id="changes-in-cli-tools">Changes in CLI tools&lt;/h2>
&lt;ul>
&lt;li>Add missing cluster-port support to redis-cli &amp;ndash;cluster (&lt;a href="https://github.com/redis/redis/pull/10344">#10344&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h2 id="other-general-improvements">Other General Improvements&lt;/h2>
&lt;ul>
&lt;li>Account sharded pubsub channels memory consumption (&lt;a href="https://github.com/redis/redis/pull/10925">#10925&lt;/a>)&lt;/li>
&lt;li>Allow ECHO in loading and stale modes (&lt;a href="https://github.com/redis/redis/pull/10853">#10853&lt;/a>)&lt;/li>
&lt;li>Cluster: Throw -TRYAGAIN instead of -ASK on migrating nodes for multi-key
commands when the node only has some of the keys (&lt;a href="https://github.com/redis/redis/pull/9526">#9526&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h2 id="bug-fixes">Bug Fixes&lt;/h2>
&lt;ul>
&lt;li>TLS: Notify clients on connection shutdown (&lt;a href="https://github.com/redis/redis/pull/10931">#10931&lt;/a>)&lt;/li>
&lt;li>Fsync directory while persisting AOF manifest, RDB file, and config file (&lt;a href="https://github.com/redis/redis/pull/10737">#10737&lt;/a>)&lt;/li>
&lt;li>Script that made modification will not break with unexpected NOREPLICAS error (&lt;a href="https://github.com/redis/redis/pull/10855">#10855&lt;/a>)&lt;/li>
&lt;li>Cluster: Fix a bug where nodes may not acknowledge a CLUSTER FAILOVER TAKEOVER
after a replica reboots (&lt;a href="https://github.com/redis/redis/pull/10798">#10798&lt;/a>)&lt;/li>
&lt;li>Cluster: Fix crash during handshake and cluster shards call (&lt;a href="https://github.com/redis/redis/pull/10942">#10942&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="fixes-for-issues-in-previous-releases-of-redis-70">Fixes for issues in previous releases of Redis 7.0&lt;/h3>
&lt;ul>
&lt;li>TLS: Fix issues with large replies (&lt;a href="https://github.com/redis/redis/pull/10909">#10909&lt;/a>)&lt;/li>
&lt;li>Correctly report the startup warning for vm.overcommit_memory (&lt;a href="https://github.com/redis/redis/pull/10841">#10841&lt;/a>)&lt;/li>
&lt;li>redis-server command line allow passing config name and value in the same argument (&lt;a href="https://github.com/redis/redis/pull/10866">#10866&lt;/a>)&lt;/li>
&lt;li>Support &amp;ndash;save command line argument with no value for backwards compatibility (&lt;a href="https://github.com/redis/redis/pull/10866">#10866&lt;/a>)&lt;/li>
&lt;li>Fix CLUSTER RESET command regression requiring an argument (&lt;a href="https://github.com/redis/redis/pull/10898">#10898&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h2 id="reference">Reference&lt;/h2>
&lt;p>&lt;a href="https://github.com/redis/redis/releases/tag/7.0.3">https://github.com/redis/redis/releases/tag/7.0.3&lt;/a>&lt;/p></description></item><item><title>Releases: Go 1.18 Release Notes</title><link>/releases/golang/1-18/</link><pubDate>Tue, 15 Mar 2022 14:46:59 +0000</pubDate><guid>/releases/golang/1-18/</guid><description>
&lt;h2 id="introduction-to-go-118">Introduction to Go 1.18&lt;/h2>
&lt;p>The latest Go release, version 1.18, is a significant release, including changes to the language, implementation of the toolchain, runtime, and libraries. Go 1.18 arrives seven months after &lt;a href="https://go.dev/doc/go1.17">Go 1.17&lt;/a>. As always, the release maintains the Go 1 &lt;a href="https://go.dev/doc/go1compat">promise of compatibility&lt;/a>. We expect almost all Go programs to continue to compile and run as before.&lt;/p>
&lt;h2 id="changes-to-the-language">Changes to the language&lt;/h2>
&lt;h3 id="generics">Generics&lt;/h3>
&lt;p>Go 1.18 includes an implementation of generic features as described by the &lt;a href="https://go.googlesource.com/proposal/+/refs/heads/master/design/43651-type-parameters.md">Type Parameters Proposal&lt;/a>. This includes major - but fully backward-compatible - changes to the language.&lt;/p>
&lt;p>These new language changes required a large amount of new code that has not had significant testing in production settings. That will only happen as more people write and use generic code. We believe that this feature is well implemented and high quality. However, unlike most aspects of Go, we can&amp;rsquo;t back up that belief with real world experience. Therefore, while we encourage the use of generics where it makes sense, please use appropriate caution when deploying generic code in production.&lt;/p>
&lt;p>While we believe that the new language features are well designed and clearly specified, it is possible that we have made mistakes. We want to stress that the &lt;a href="https://go.dev/doc/go1compat">Go 1 compatibility guarantee&lt;/a> says &amp;ldquo;If it becomes necessary to address an inconsistency or incompleteness in the specification, resolving the issue could affect the meaning or legality of existing programs. We reserve the right to address such issues, including updating the implementations.&amp;rdquo; It also says &amp;ldquo;If a compiler or library has a bug that violates the specification, a program that depends on the buggy behavior may break if the bug is fixed. We reserve the right to fix such bugs.&amp;rdquo; In other words, it is possible that there will be code using generics that will work with the 1.18 release but break in later releases. We do not plan or expect to make any such change. However, breaking 1.18 programs in future releases may become necessary for reasons that we cannot today foresee. We will minimize any such breakage as much as possible, but we can&amp;rsquo;t guarantee that the breakage will be zero.&lt;/p>
&lt;p>The following is a list of the most visible changes. For a more comprehensive overview, see the &lt;a href="https://go.googlesource.com/proposal/+/refs/heads/master/design/43651-type-parameters.md">proposal&lt;/a>. For details see the &lt;a href="https://go.dev/ref/spec">language spec&lt;/a>.&lt;/p>
&lt;ul>
&lt;li>The syntax for &lt;a href="https://go.dev/ref/spec#Function_declarations">function&lt;/a> and &lt;a href="https://go.dev/ref/spec#Type_declarations">type declarations&lt;/a> now accepts &lt;a href="https://go.dev/ref/spec#Type_parameter_declarations">type parameters&lt;/a>.&lt;/li>
&lt;li>Parameterized functions and types can be instantiated by following them with a list of type arguments in square brackets.&lt;/li>
&lt;li>The new token &lt;code>~&lt;/code> has been added to the set of &lt;a href="https://go.dev/ref/spec#Operators_and_punctuation">operators and punctuation&lt;/a>.&lt;/li>
&lt;li>The syntax for &lt;a href="https://go.dev/ref/spec#Interface_types">Interface types&lt;/a> now permits the embedding of arbitrary types (not just type names of interfaces) as well as union and &lt;code>~T&lt;/code> type elements. Such interfaces may only be used as type constraints. An interface now defines a set of types as well as a set of methods.&lt;/li>
&lt;li>The new &lt;a href="https://go.dev/ref/spec#Predeclared_identifiers">predeclared identifier&lt;/a> &lt;code>any&lt;/code> is an alias for the empty interface. It may be used instead of &lt;code>interface{}&lt;/code>.&lt;/li>
&lt;li>The new &lt;a href="https://go.dev/ref/spec#Predeclared_identifiers">predeclared identifier&lt;/a> &lt;code>comparable&lt;/code> is an interface that denotes the set of all types which can be compared using &lt;code>==&lt;/code> or &lt;code>!=&lt;/code>. It may only be used as (or embedded in) a type constraint.&lt;/li>
&lt;/ul>
&lt;p>There are three experimental packages using generics that may be useful. These packages are in x/exp repository; their API is not covered by the Go 1 guarantee and may change as we gain more experience with generics.&lt;/p>
&lt;p>&lt;a href="https://pkg.go.dev/golang.org/x/exp/constraints">&lt;code>golang.org/x/exp/constraints&lt;/code>&lt;/a>&lt;/p>
&lt;p>Constraints that are useful for generic code, such as &lt;a href="https://pkg.go.dev/golang.org/x/exp/constraints#Ordered">&lt;code>constraints.Ordered&lt;/code>&lt;/a>.&lt;/p>
&lt;p>&lt;a href="https://pkg.go.dev/golang.org/x/exp/slices">&lt;code>golang.org/x/exp/slices&lt;/code>&lt;/a>&lt;/p>
&lt;p>A collection of generic functions that operate on slices of any element type.&lt;/p>
&lt;p>&lt;a href="https://pkg.go.dev/golang.org/x/exp/maps">&lt;code>golang.org/x/exp/maps&lt;/code>&lt;/a>&lt;/p>
&lt;p>A collection of generic functions that operate on maps of any key or element type.&lt;/p>
&lt;p>The current generics implementation has the following known limitations:&lt;/p>
&lt;ul>
&lt;li>The Go compiler cannot handle type declarations inside generic functions or methods. We hope to provide support for this feature in a future release.&lt;/li>
&lt;li>The Go compiler does not accept arguments of type parameter type with the predeclared functions &lt;code>real&lt;/code>, &lt;code>imag&lt;/code>, and &lt;code>complex&lt;/code>. We hope to remove this restriction in a future release.&lt;/li>
&lt;li>The Go compiler only supports calling a method &lt;code>m&lt;/code> on a value &lt;code>x&lt;/code> of type parameter type &lt;code>P&lt;/code> if &lt;code>m&lt;/code> is explicitly declared by &lt;code>P&lt;/code>&amp;rsquo;s constraint interface. Similarly, method values &lt;code>x.m&lt;/code> and method expressions &lt;code>P.m&lt;/code> also are only supported if &lt;code>m&lt;/code> is explicitly declared by &lt;code>P&lt;/code>, even though &lt;code>m&lt;/code> might be in the method set of &lt;code>P&lt;/code> by virtue of the fact that all types in &lt;code>P&lt;/code> implement &lt;code>m&lt;/code>. We hope to remove this restriction in a future release.&lt;/li>
&lt;li>The Go compiler does not support accessing a struct field &lt;code>x.f&lt;/code> where &lt;code>x&lt;/code> is of type parameter type even if all types in the type parameter&amp;rsquo;s type set have a field &lt;code>f&lt;/code>. We may remove this restriction in a future release.&lt;/li>
&lt;li>Embedding a type parameter, or a pointer to a type parameter, as an unnamed field in a struct type is not permitted. Similarly, embedding a type parameter in an interface type is not permitted. Whether these will ever be permitted is unclear at present.&lt;/li>
&lt;li>A union element with more than one term may not contain an interface type with a non-empty method set. Whether this will ever be permitted is unclear at present.&lt;/li>
&lt;/ul>
&lt;p>Generics also represent a large change for the Go ecosystem. While we have updated several core tools with generics support, there is much more to do. It will take time for remaining tools, documentation, and libraries to catch up with these language changes.&lt;/p>
&lt;h3 id="bug-fixes">Bug fixes&lt;/h3>
&lt;p>The Go 1.18 compiler now correctly reports &lt;code>declared but not used&lt;/code> errors for variables that are set inside a function literal but are never used. Before Go 1.18, the compiler did not report an error in such cases. This fixes long-outstanding compiler issue &lt;a href="https://golang.org/issue/8560">#8560&lt;/a>. As a result of this change, (possibly incorrect) programs may not compile anymore. The necessary fix is straightforward: fix the program if it was in fact incorrect, or use the offending variable, for instance by assigning it to the blank identifier &lt;code>_&lt;/code>. Since &lt;code>go vet&lt;/code> always pointed out this error, the number of affected programs is likely very small.&lt;/p>
&lt;p>The Go 1.18 compiler now reports an overflow when passing a rune constant expression such as &lt;code>'1' &amp;lt;&amp;lt; 32&lt;/code> as an argument to the predeclared functions &lt;code>print&lt;/code> and &lt;code>println&lt;/code>, consistent with the behavior of user-defined functions. Before Go 1.18, the compiler did not report an error in such cases but silently accepted such constant arguments if they fit into an &lt;code>int64&lt;/code>. As a result of this change, (possibly incorrect) programs may not compile anymore. The necessary fix is straightforward: fix the program if it was in fact incorrect, or explicitly convert the offending argument to the correct type. Since &lt;code>go vet&lt;/code> always pointed out this error, the number of affected programs is likely very small.&lt;/p>
&lt;h2 id="ports">Ports&lt;/h2>
&lt;h3 id="amd64">AMD64&lt;/h3>
&lt;p>Go 1.18 introduces the new &lt;code>GOAMD64&lt;/code> environment variable, which selects at compile time a minimum target version of the AMD64 architecture. Allowed values are &lt;code>v1&lt;/code>, &lt;code>v2&lt;/code>, &lt;code>v3&lt;/code>, or &lt;code>v4&lt;/code>. Each higher level requires, and takes advantage of, additional processor features. A detailed description can be found &lt;a href="https://golang.org/wiki/MinimumRequirements#amd64">here&lt;/a>.&lt;/p>
&lt;p>The &lt;code>GOAMD64&lt;/code> environment variable defaults to &lt;code>v1&lt;/code>.&lt;/p>
&lt;h3 id="risc-v">RISC-V&lt;/h3>
&lt;p>The 64-bit RISC-V architecture on Linux (the &lt;code>linux/riscv64&lt;/code> port) now supports the &lt;code>c-archive&lt;/code> and &lt;code>c-shared&lt;/code> build modes.&lt;/p>
&lt;h3 id="linux">Linux&lt;/h3>
&lt;p>Go 1.18 requires Linux kernel version 2.6.32 or later.&lt;/p>
&lt;h3 id="windows">Windows&lt;/h3>
&lt;p>The &lt;code>windows/arm&lt;/code> and &lt;code>windows/arm64&lt;/code> ports now support non-cooperative preemption, bringing that capability to all four Windows ports, which should hopefully address subtle bugs encountered when calling into Win32 functions that block for extended periods of time.&lt;/p>
&lt;h3 id="ios">iOS&lt;/h3>
&lt;p>On iOS (the &lt;code>ios/arm64&lt;/code> port) and iOS simulator running on AMD64-based macOS (the &lt;code>ios/amd64&lt;/code> port), Go 1.18 now requires iOS 12 or later; support for previous versions has been discontinued.&lt;/p>
&lt;h3 id="freebsd">FreeBSD&lt;/h3>
&lt;p>Go 1.18 is the last release that is supported on FreeBSD 11.x, which has already reached end-of-life. Go 1.19 will require FreeBSD 12.2+ or FreeBSD 13.0+. FreeBSD 13.0+ will require a kernel with the COMPAT_FREEBSD12 option set (this is the default).&lt;/p>
&lt;h2 id="tools">Tools&lt;/h2>
&lt;h3 id="fuzzing">Fuzzing&lt;/h3>
&lt;p>Go 1.18 includes an implementation of fuzzing as described by &lt;a href="https://golang.org/issue/44551">the fuzzing proposal&lt;/a>.&lt;/p>
&lt;p>See the &lt;a href="https://go.dev/doc/fuzz">fuzzing landing page&lt;/a> to get started.&lt;/p>
&lt;p>Please be aware that fuzzing can consume a lot of memory and may impact your machine’s performance while it runs. Also be aware that the fuzzing engine writes values that expand test coverage to a fuzz cache directory within &lt;code>$GOCACHE/fuzz&lt;/code> while it runs. There is currently no limit to the number of files or total bytes that may be written to the fuzz cache, so it may occupy a large amount of storage (possibly several GBs).&lt;/p>
&lt;h3 id="go-command">Go command&lt;/h3>
&lt;h4 id="go-get">&lt;code>go&lt;/code> &lt;code>get&lt;/code>&lt;/h4>
&lt;p>&lt;code>go&lt;/code> &lt;code>get&lt;/code> no longer builds or installs packages in module-aware mode. &lt;code>go&lt;/code> &lt;code>get&lt;/code> is now dedicated to adjusting dependencies in &lt;code>go.mod&lt;/code>. Effectively, the &lt;code>-d&lt;/code> flag is always enabled. To install the latest version of an executable outside the context of the current module, use &lt;a href="https://golang.org/ref/mod#go-install">&lt;code>go&lt;/code> &lt;code>install&lt;/code> &lt;code>example.com/cmd@latest&lt;/code>&lt;/a>. Any &lt;a href="https://golang.org/ref/mod#version-queries">version query&lt;/a> may be used instead of &lt;code>latest&lt;/code>. This form of &lt;code>go&lt;/code> &lt;code>install&lt;/code> was added in Go 1.16, so projects supporting older versions may need to provide install instructions for both &lt;code>go&lt;/code> &lt;code>install&lt;/code> and &lt;code>go&lt;/code> &lt;code>get&lt;/code>. &lt;code>go&lt;/code> &lt;code>get&lt;/code> now reports an error when used outside a module, since there is no &lt;code>go.mod&lt;/code> file to update. In GOPATH mode (with &lt;code>GO111MODULE=off&lt;/code>), &lt;code>go&lt;/code> &lt;code>get&lt;/code> still builds and installs packages, as before.&lt;/p>
&lt;h4 id="automatic-gomod-and-gosum-updates">Automatic &lt;code>go.mod&lt;/code> and &lt;code>go.sum&lt;/code> updates&lt;/h4>
&lt;p>The &lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>graph&lt;/code>, &lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>vendor&lt;/code>, &lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>verify&lt;/code>, and &lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>why&lt;/code> subcommands no longer automatically update the &lt;code>go.mod&lt;/code> and &lt;code>go.sum&lt;/code> files. (Those files can be updated explicitly using &lt;code>go&lt;/code> &lt;code>get&lt;/code>, &lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>tidy&lt;/code>, or &lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>download&lt;/code>.)&lt;/p>
&lt;h4 id="go-version">&lt;code>go&lt;/code> &lt;code>version&lt;/code>&lt;/h4>
&lt;p>The &lt;code>go&lt;/code> command now embeds version control information in binaries. It includes the currently checked-out revision, commit time, and a flag indicating whether edited or untracked files are present. Version control information is embedded if the &lt;code>go&lt;/code> command is invoked in a directory within a Git, Mercurial, Fossil, or Bazaar repository, and the &lt;code>main&lt;/code> package and its containing main module are in the same repository. This information may be omitted using the flag &lt;code>-buildvcs=false&lt;/code>.&lt;/p>
&lt;p>Additionally, the &lt;code>go&lt;/code> command embeds information about the build, including build and tool tags (set with &lt;code>-tags&lt;/code>), compiler, assembler, and linker flags (like &lt;code>-gcflags&lt;/code>), whether cgo was enabled, and if it was, the values of the cgo environment variables (like &lt;code>CGO_CFLAGS&lt;/code>). Both VCS and build information may be read together with module information using &lt;code>go&lt;/code> &lt;code>version&lt;/code> &lt;code>-m&lt;/code> &lt;code>file&lt;/code> or &lt;code>runtime/debug.ReadBuildInfo&lt;/code> (for the currently running binary) or the new &lt;a href="https://go.dev/doc/go1.18#debug/buildinfo">&lt;code>debug/buildinfo&lt;/code>&lt;/a> package.&lt;/p>
&lt;p>The underlying data format of the embedded build information can change with new go releases, so an older version of &lt;code>go&lt;/code> may not handle the build information produced with a newer version of &lt;code>go&lt;/code>. To read the version information from a binary built with &lt;code>go&lt;/code> 1.18, use the &lt;code>go&lt;/code> &lt;code>version&lt;/code> command and the &lt;code>debug/buildinfo&lt;/code> package from &lt;code>go&lt;/code> 1.18+.&lt;/p>
&lt;h4 id="go-mod-download">&lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>download&lt;/code>&lt;/h4>
&lt;p>If the main module&amp;rsquo;s &lt;code>go.mod&lt;/code> file specifies &lt;a href="https://go.dev/ref/mod#go-mod-file-go">&lt;code>go&lt;/code> &lt;code>1.17&lt;/code>&lt;/a> or higher, &lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>download&lt;/code> without arguments now downloads source code for only the modules explicitly &lt;a href="https://go.dev/ref/mod#go-mod-file-require">required&lt;/a> in the main module&amp;rsquo;s &lt;code>go.mod&lt;/code> file. (In a &lt;code>go&lt;/code> &lt;code>1.17&lt;/code> or higher module, that set already includes all dependencies needed to build the packages and tests in the main module.) To also download source code for transitive dependencies, use &lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>download&lt;/code> &lt;code>all&lt;/code>.&lt;/p>
&lt;h4 id="go-mod-vendor">&lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>vendor&lt;/code>&lt;/h4>
&lt;p>The &lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>vendor&lt;/code> subcommand now supports a &lt;code>-o&lt;/code> flag to set the output directory. (Other &lt;code>go&lt;/code> commands still read from the &lt;code>vendor&lt;/code> directory at the module root when loading packages with &lt;code>-mod=vendor&lt;/code>, so the main use for this flag is for third-party tools that need to collect package source code.)&lt;/p>
&lt;h4 id="go-mod-tidy">&lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>tidy&lt;/code>&lt;/h4>
&lt;p>The &lt;code>go&lt;/code> &lt;code>mod&lt;/code> &lt;code>tidy&lt;/code> command now retains additional checksums in the &lt;code>go.sum&lt;/code> file for modules whose source code is needed to verify that each imported package is provided by only one module in the &lt;a href="https://go.dev/ref/mod#glos-build-list">build list&lt;/a>. Because this condition is rare and failure to apply it results in a build error, this change is &lt;em>not&lt;/em> conditioned on the &lt;code>go&lt;/code> version in the main module&amp;rsquo;s &lt;code>go.mod&lt;/code> file.&lt;/p>
&lt;h4 id="go-work">&lt;code>go&lt;/code> &lt;code>work&lt;/code>&lt;/h4>
&lt;p>The &lt;code>go&lt;/code> command now supports a &amp;ldquo;Workspace&amp;rdquo; mode. If a &lt;code>go.work&lt;/code> file is found in the working directory or a parent directory, or one is specified using the &lt;code>GOWORK&lt;/code> environment variable, it will put the &lt;code>go&lt;/code> command into workspace mode. In workspace mode, the &lt;code>go.work&lt;/code> file will be used to determine the set of main modules used as the roots for module resolution, instead of using the normally-found &lt;code>go.mod&lt;/code> file to specify the single main module. For more information see the &lt;a href="https://go.dev/pkg/cmd/go#hdr-Workspace_maintenance">&lt;code>go work&lt;/code>&lt;/a> documentation.&lt;/p>
&lt;h4 id="go-build--asan">&lt;code>go&lt;/code> &lt;code>build&lt;/code> &lt;code>-asan&lt;/code>&lt;/h4>
&lt;p>The &lt;code>go&lt;/code> &lt;code>build&lt;/code> command and related commands now support an &lt;code>-asan&lt;/code> flag that enables interoperation with C (or C++) code compiled with the address sanitizer (C compiler option &lt;code>-fsanitize=address&lt;/code>).&lt;/p>
&lt;h4 id="go-test">&lt;code>go&lt;/code> &lt;code>test&lt;/code>&lt;/h4>
&lt;p>The &lt;code>go&lt;/code> command now supports additional command line options for the new &lt;a href="https://go.dev/doc/go1.18#fuzzing">fuzzing support described above&lt;/a>:&lt;/p>
&lt;ul>
&lt;li>&lt;code>go test&lt;/code> supports &lt;code>-fuzz&lt;/code>, &lt;code>-fuzztime&lt;/code>, and &lt;code>-fuzzminimizetime&lt;/code> options. For documentation on these see &lt;a href="https://go.dev/pkg/cmd/go#hdr-Testing_flags">&lt;code>go help testflag&lt;/code>&lt;/a>.&lt;/li>
&lt;li>&lt;code>go clean&lt;/code> supports a &lt;code>-fuzzcache&lt;/code> option. For documentation see &lt;a href="https://go.dev/pkg/cmd/go#hdr-Remove_object_files_and_cached_files">&lt;code>go help clean&lt;/code>&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h4 id="gobuild-lines">&lt;code>//go:build&lt;/code> lines&lt;/h4>
&lt;p>Go 1.17 introduced &lt;code>//go:build&lt;/code> lines as a more readable way to write build constraints, instead of &lt;code>//&lt;/code> &lt;code>+build&lt;/code> lines. As of Go 1.17, &lt;code>gofmt&lt;/code> adds &lt;code>//go:build&lt;/code> lines to match existing &lt;code>+build&lt;/code> lines and keeps them in sync, while &lt;code>go&lt;/code> &lt;code>vet&lt;/code> diagnoses when they are out of sync.&lt;/p>
&lt;p>Since the release of Go 1.18 marks the end of support for Go 1.16, all supported versions of Go now understand &lt;code>//go:build&lt;/code> lines. In Go 1.18, &lt;code>go&lt;/code> &lt;code>fix&lt;/code> now removes the now-obsolete &lt;code>//&lt;/code> &lt;code>+build&lt;/code> lines in modules declaring &lt;code>go&lt;/code> &lt;code>1.18&lt;/code> or later in their &lt;code>go.mod&lt;/code> files.&lt;/p>
&lt;p>For more information, see &lt;a href="https://go.dev/design/draft-gobuild">https://go.dev/design/draft-gobuild&lt;/a>.&lt;/p>
&lt;h3 id="gofmt">Gofmt&lt;/h3>
&lt;p>&lt;code>gofmt&lt;/code> now reads and formats input files concurrently, with a memory limit proportional to &lt;code>GOMAXPROCS&lt;/code>. On a machine with multiple CPUs, &lt;code>gofmt&lt;/code> should now be significantly faster.&lt;/p>
&lt;h3 id="vet">Vet&lt;/h3>
&lt;h4 id="updates-for-generics">Updates for Generics&lt;/h4>
&lt;p>The &lt;code>vet&lt;/code> tool is updated to support generic code. In most cases, it reports an error in generic code whenever it would report an error in the equivalent non-generic code after substituting for type parameters with a type from their &lt;a href="https://golang.org/ref/spec#Interface_types">type set&lt;/a>. For example, &lt;code>vet&lt;/code> reports a format error in&lt;/p>
&lt;p>func Print[T ~int|~string](t T) {
fmt.Printf(&amp;quot;%d&amp;quot;, t)
}&lt;/p>
&lt;p>because it would report a format error in the non-generic equivalent of &lt;code>Print[string]&lt;/code>:&lt;/p>
&lt;p>func PrintString(x string) {
fmt.Printf(&amp;quot;%d&amp;quot;, x)
}&lt;/p>
&lt;h4 id="precision-improvements-for-existing-checkers">Precision improvements for existing checkers&lt;/h4>
&lt;p>The &lt;code>cmd/vet&lt;/code> checkers &lt;code>copylock&lt;/code>, &lt;code>printf&lt;/code>, &lt;code>sortslice&lt;/code>, &lt;code>testinggoroutine&lt;/code>, and &lt;code>tests&lt;/code> have all had moderate precision improvements to handle additional code patterns. This may lead to newly reported errors in existing packages. For example, the &lt;code>printf&lt;/code> checker now tracks formatting strings created by concatenating string constants. So &lt;code>vet&lt;/code> will report an error in:&lt;/p>
&lt;p>// fmt.Printf formatting directive %d is being passed to Println.
fmt.Println(&amp;quot;%d&amp;quot;+` ≡ x (mod 2)`+&amp;quot;\n&amp;quot;, x%2)&lt;/p>
&lt;h2 id="runtime">Runtime&lt;/h2>
&lt;p>The garbage collector now includes non-heap sources of garbage collector work (e.g., stack scanning) when determining how frequently to run. As a result, garbage collector overhead is more predictable when these sources are significant. For most applications these changes will be negligible; however, some Go applications may now use less memory and spend more time on garbage collection, or vice versa, than before. The intended workaround is to tweak &lt;code>GOGC&lt;/code> where necessary.&lt;/p>
&lt;p>The runtime now returns memory to the operating system more efficiently and has been tuned to work more aggressively as a result.&lt;/p>
&lt;p>Go 1.17 generally improved the formatting of arguments in stack traces, but could print inaccurate values for arguments passed in registers. This is improved in Go 1.18 by printing a question mark (&lt;code>?&lt;/code>) after each value that may be inaccurate.&lt;/p>
&lt;p>The built-in function &lt;code>append&lt;/code> now uses a slightly different formula when deciding how much to grow a slice when it must allocate a new underlying array. The new formula is less prone to sudden transitions in allocation behavior.&lt;/p>
&lt;h2 id="compiler">Compiler&lt;/h2>
&lt;p>Go 1.17 &lt;a href="https://go.dev/doc/go1.17#compiler">implemented&lt;/a> a new way of passing function arguments and results using registers instead of the stack on 64-bit x86 architecture on selected operating systems. Go 1.18 expands the supported platforms to include 64-bit ARM (&lt;code>GOARCH=arm64&lt;/code>), big- and little-endian 64-bit PowerPC (&lt;code>GOARCH=ppc64&lt;/code>, &lt;code>ppc64le&lt;/code>), as well as 64-bit x86 architecture (&lt;code>GOARCH=amd64&lt;/code>) on all operating systems. On 64-bit ARM and 64-bit PowerPC systems, benchmarking shows typical performance improvements of 10% or more.&lt;/p>
&lt;p>As &lt;a href="https://go.dev/doc/go1.17#compiler">mentioned&lt;/a> in the Go 1.17 release notes, this change does not affect the functionality of any safe Go code and is designed to have no impact on most assembly code. See the &lt;a href="https://go.dev/doc/go1.17#compiler">Go 1.17 release notes&lt;/a> for more details.&lt;/p>
&lt;p>The compiler now can inline functions that contain range loops or labeled for loops.&lt;/p>
&lt;p>The new &lt;code>-asan&lt;/code> compiler option supports the new &lt;code>go&lt;/code> command &lt;code>-asan&lt;/code> option.&lt;/p>
&lt;p>Because the compiler&amp;rsquo;s type checker was replaced in its entirety to support generics, some error messages now may use different wording than before. In some cases, pre-Go 1.18 error messages provided more detail or were phrased in a more helpful way. We intend to address these cases in Go 1.19.&lt;/p>
&lt;p>Because of changes in the compiler related to supporting generics, the Go 1.18 compile speed can be roughly 15% slower than the Go 1.17 compile speed. The execution time of the compiled code is not affected. We intend to improve the speed of the compiler in future releases.&lt;/p>
&lt;h2 id="linker">Linker&lt;/h2>
&lt;p>The linker emits &lt;a href="https://tailscale.com/blog/go-linker/">far fewer relocations&lt;/a>. As a result, most codebases will link faster, require less memory to link, and generate smaller binaries. Tools that process Go binaries should use Go 1.18&amp;rsquo;s &lt;code>debug/gosym&lt;/code> package to transparently handle both old and new binaries.&lt;/p>
&lt;p>The new &lt;code>-asan&lt;/code> linker option supports the new &lt;code>go&lt;/code> command &lt;code>-asan&lt;/code> option.&lt;/p>
&lt;h2 id="bootstrap">Bootstrap&lt;/h2>
&lt;p>When building a Go release from source and &lt;code>GOROOT_BOOTSTRAP&lt;/code> is not set, previous versions of Go looked for a Go 1.4 or later bootstrap toolchain in the directory &lt;code>$HOME/go1.4&lt;/code> (&lt;code>%HOMEDRIVE%%HOMEPATH%\go1.4&lt;/code> on Windows). Go now looks first for &lt;code>$HOME/go1.17&lt;/code> or &lt;code>$HOME/sdk/go1.17&lt;/code> before falling back to &lt;code>$HOME/go1.4&lt;/code>. We intend for Go 1.19 to require Go 1.17 or later for bootstrap, and this change should make the transition smoother. For more details, see &lt;a href="https://go.dev/issue/44505">go.dev/issue/44505&lt;/a>.&lt;/p>
&lt;h2 id="core-library">Core library&lt;/h2>
&lt;h3 id="new-debugbuildinfo-package">New &lt;code>debug/buildinfo&lt;/code> package&lt;/h3>
&lt;p>The new &lt;a href="https://go.dev/pkg/debug/buildinfo">&lt;code>debug/buildinfo&lt;/code>&lt;/a> package provides access to module versions, version control information, and build flags embedded in executable files built by the &lt;code>go&lt;/code> command. The same information is also available via &lt;a href="https://go.dev/pkg/runtime/debug#ReadBuildInfo">&lt;code>runtime/debug.ReadBuildInfo&lt;/code>&lt;/a> for the currently running binary and via &lt;code>go&lt;/code> &lt;code>version&lt;/code> &lt;code>-m&lt;/code> on the command line.&lt;/p>
&lt;h3 id="new-netnetip-package">New &lt;code>net/netip&lt;/code> package&lt;/h3>
&lt;p>The new &lt;a href="https://go.dev/pkg/net/netip/">&lt;code>net/netip&lt;/code>&lt;/a> package defines a new IP address type, &lt;a href="https://go.dev/pkg/net/netip/#Addr">&lt;code>Addr&lt;/code>&lt;/a>. Compared to the existing &lt;a href="https://go.dev/pkg/net/#IP">&lt;code>net.IP&lt;/code>&lt;/a> type, the &lt;code>netip.Addr&lt;/code> type takes less memory, is immutable, and is comparable so it supports &lt;code>==&lt;/code> and can be used as a map key.&lt;/p>
&lt;p>In addition to &lt;code>Addr&lt;/code>, the package defines &lt;a href="https://go.dev/pkg/net/netip/#AddrPort">&lt;code>AddrPort&lt;/code>&lt;/a>, representing an IP and port, and &lt;a href="https://go.dev/pkg/net/netip/#Prefix">&lt;code>Prefix&lt;/code>&lt;/a>, representing a network CIDR prefix.&lt;/p>
&lt;p>The package also defines several functions to create and examine these new types: &lt;a href="https://go.dev/pkg/net/netip#AddrFrom4">&lt;code>AddrFrom4&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#AddrFrom16">&lt;code>AddrFrom16&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#AddrFromSlice">&lt;code>AddrFromSlice&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#AddrPortFrom">&lt;code>AddrPortFrom&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#IPv4Unspecified">&lt;code>IPv4Unspecified&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#IPv6LinkLocalAllNodes">&lt;code>IPv6LinkLocalAllNodes&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#IPv6Unspecified">&lt;code>IPv6Unspecified&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#MustParseAddr">&lt;code>MustParseAddr&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#MustParseAddrPort">&lt;code>MustParseAddrPort&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#MustParsePrefix">&lt;code>MustParsePrefix&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#ParseAddr">&lt;code>ParseAddr&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#ParseAddrPort">&lt;code>ParseAddrPort&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#ParsePrefix">&lt;code>ParsePrefix&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/netip#PrefixFrom">&lt;code>PrefixFrom&lt;/code>&lt;/a>.&lt;/p>
&lt;p>The &lt;a href="https://go.dev/pkg/net/">&lt;code>net&lt;/code>&lt;/a> package includes new methods that parallel existing methods, but return &lt;code>netip.AddrPort&lt;/code> instead of the heavier-weight &lt;a href="https://go.dev/pkg/net/#IP">&lt;code>net.IP&lt;/code>&lt;/a> or &lt;a href="https://go.dev/pkg/net/#UDPAddr">&lt;code>*net.UDPAddr&lt;/code>&lt;/a> types: &lt;a href="https://go.dev/pkg/net/#Resolver.LookupNetIP">&lt;code>Resolver.LookupNetIP&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/#UDPConn.ReadFromUDPAddrPort">&lt;code>UDPConn.ReadFromUDPAddrPort&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/#UDPConn.ReadMsgUDPAddrPort">&lt;code>UDPConn.ReadMsgUDPAddrPort&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/#UDPConn.WriteToUDPAddrPort">&lt;code>UDPConn.WriteToUDPAddrPort&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/#UDPConn.WriteMsgUDPAddrPort">&lt;code>UDPConn.WriteMsgUDPAddrPort&lt;/code>&lt;/a>. The new &lt;code>UDPConn&lt;/code> methods support allocation-free I/O.&lt;/p>
&lt;p>The &lt;code>net&lt;/code> package also now includes functions and methods to convert between the existing &lt;a href="https://go.dev/pkg/net/#TCPAddr">&lt;code>TCPAddr&lt;/code>&lt;/a>/&lt;a href="https://go.dev/pkg/net/#UDPAddr">&lt;code>UDPAddr&lt;/code>&lt;/a> types and &lt;code>netip.AddrPort&lt;/code>: &lt;a href="https://go.dev/pkg/net/#TCPAddrFromAddrPort">&lt;code>TCPAddrFromAddrPort&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/#UDPAddrFromAddrPort">&lt;code>UDPAddrFromAddrPort&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/#TCPAddr.AddrPort">&lt;code>TCPAddr.AddrPort&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/net/#UDPAddr.AddrPort">&lt;code>UDPAddr.AddrPort&lt;/code>&lt;/a>.&lt;/p>
&lt;h3 id="tls-10-and-11-disabled-by-default-client-side">TLS 1.0 and 1.1 disabled by default client-side&lt;/h3>
&lt;p>If &lt;a href="https://go.dev/pkg/crypto/tls/#Config.MinVersion">&lt;code>Config.MinVersion&lt;/code>&lt;/a> is not set, it now defaults to TLS 1.2 for client connections. Any safely up-to-date server is expected to support TLS 1.2, and browsers have required it since 2020. TLS 1.0 and 1.1 are still supported by setting &lt;code>Config.MinVersion&lt;/code> to &lt;code>VersionTLS10&lt;/code>. The server-side default is unchanged at TLS 1.0.&lt;/p>
&lt;p>The default can be temporarily reverted to TLS 1.0 by setting the &lt;code>GODEBUG=tls10default=1&lt;/code> environment variable. This option will be removed in Go 1.19.&lt;/p>
&lt;h3 id="rejecting-sha-1-certificates">Rejecting SHA-1 certificates&lt;/h3>
&lt;p>&lt;code>crypto/x509&lt;/code> will now reject certificates signed with the SHA-1 hash function. This doesn&amp;rsquo;t apply to self-signed root certificates. Practical attacks against SHA-1 &lt;a href="https://shattered.io/">have been demonstrated since 2017&lt;/a> and publicly trusted Certificate Authorities have not issued SHA-1 certificates since 2015.&lt;/p>
&lt;p>This can be temporarily reverted by setting the &lt;code>GODEBUG=x509sha1=1&lt;/code> environment variable. This option will be removed in a future release.&lt;/p>
&lt;h3 id="minor-changes-to-the-library">Minor changes to the library&lt;/h3>
&lt;p>As always, there are various minor changes and updates to the library, made with the Go 1 &lt;a href="https://go.dev/doc/go1compat">promise of compatibility&lt;/a> in mind.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/bufio/">bufio&lt;/a>&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/bufio#Writer.AvailableBuffer">&lt;code>Writer.AvailableBuffer&lt;/code>&lt;/a> method returns an empty buffer with a possibly non-empty capacity for use with append-like APIs. After appending, the buffer can be provided to a succeeding &lt;code>Write&lt;/code> call and possibly avoid any copying.&lt;/p>
&lt;p>The &lt;a href="https://go.dev/pkg/bufio#Reader.Reset">&lt;code>Reader.Reset&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/bufio#Writer.Reset">&lt;code>Writer.Reset&lt;/code>&lt;/a> methods now use the default buffer size when called on objects with a &lt;code>nil&lt;/code> buffer.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/bytes/">bytes&lt;/a>&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/bytes/#Cut">&lt;code>Cut&lt;/code>&lt;/a> function slices a &lt;code>[]byte&lt;/code> around a separator. It can replace and simplify many common uses of &lt;a href="https://go.dev/pkg/bytes/#Index">&lt;code>Index&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/bytes/#IndexByte">&lt;code>IndexByte&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/bytes/#IndexRune">&lt;code>IndexRune&lt;/code>&lt;/a>, and &lt;a href="https://go.dev/pkg/bytes/#SplitN">&lt;code>SplitN&lt;/code>&lt;/a>.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/bytes/#Trim">&lt;code>Trim&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/bytes/#TrimLeft">&lt;code>TrimLeft&lt;/code>&lt;/a>, and &lt;a href="https://go.dev/pkg/bytes/#TrimRight">&lt;code>TrimRight&lt;/code>&lt;/a> are now allocation free and, especially for small ASCII cutsets, up to 10 times faster.&lt;/p>
&lt;p>The &lt;a href="https://go.dev/pkg/bytes/#Title">&lt;code>Title&lt;/code>&lt;/a> function is now deprecated. It doesn&amp;rsquo;t handle Unicode punctuation and language-specific capitalization rules, and is superseded by the &lt;a href="https://golang.org/x/text/cases">golang.org/x/text/cases&lt;/a> package.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/crypto/elliptic/">crypto/elliptic&lt;/a>&lt;/p>
&lt;p>The &lt;a href="https://go.dev/pkg/crypto/elliptic#P224">&lt;code>P224&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/crypto/elliptic#P384">&lt;code>P384&lt;/code>&lt;/a>, and &lt;a href="https://go.dev/pkg/crypto/elliptic#P521">&lt;code>P521&lt;/code>&lt;/a> curve implementations are now all backed by code generated by the &lt;a href="https://github.com/mmcloughlin/addchain">addchain&lt;/a> and &lt;a href="https://github.com/mit-plv/fiat-crypto">fiat-crypto&lt;/a> projects, the latter of which is based on a formally-verified model of the arithmetic operations. They now use safer complete formulas and internal APIs. P-224 and P-384 are now approximately four times faster. All specific curve implementations are now constant-time.&lt;/p>
&lt;p>Operating on invalid curve points (those for which the &lt;code>IsOnCurve&lt;/code> method returns false, and which are never returned by &lt;a href="https://go.dev/pkg/crypto/elliptic#Unmarshal">&lt;code>Unmarshal&lt;/code>&lt;/a> or a &lt;code>Curve&lt;/code> method operating on a valid point) has always been undefined behavior, can lead to key recovery attacks, and is now unsupported by the new backend. If an invalid point is supplied to a &lt;code>P224&lt;/code>, &lt;code>P384&lt;/code>, or &lt;code>P521&lt;/code> method, that method will now return a random point. The behavior might change to an explicit panic in a future release.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/crypto/tls/">crypto/tls&lt;/a>&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/crypto/tls/#Conn.NetConn">&lt;code>Conn.NetConn&lt;/code>&lt;/a> method allows access to the underlying &lt;a href="https://go.dev/pkg/net#Conn">&lt;code>net.Conn&lt;/code>&lt;/a>.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/crypto/x509">crypto/x509&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/crypto/x509/#Certificate.Verify">&lt;code>Certificate.Verify&lt;/code>&lt;/a> now uses platform APIs to verify certificate validity on macOS and iOS when it is called with a nil &lt;a href="https://go.dev/pkg/crypto/x509/#VerifyOpts.Roots">&lt;code>VerifyOpts.Roots&lt;/code>&lt;/a> or when using the root pool returned from &lt;a href="https://go.dev/pkg/crypto/x509/#SystemCertPool">&lt;code>SystemCertPool&lt;/code>&lt;/a>.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/crypto/x509/#SystemCertPool">&lt;code>SystemCertPool&lt;/code>&lt;/a> is now available on Windows.&lt;/p>
&lt;p>On Windows, macOS, and iOS, when a &lt;a href="https://go.dev/pkg/crypto/x509/#CertPool">&lt;code>CertPool&lt;/code>&lt;/a> returned by &lt;a href="https://go.dev/pkg/crypto/x509/#SystemCertPool">&lt;code>SystemCertPool&lt;/code>&lt;/a> has additional certificates added to it, &lt;a href="https://go.dev/pkg/crypto/x509/#Certificate.Verify">&lt;code>Certificate.Verify&lt;/code>&lt;/a> will do two verifications: one using the platform verifier APIs and the system roots, and one using the Go verifier and the additional roots. Chains returned by the platform verifier APIs will be prioritized.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/crypto/x509/#CertPool.Subjects">&lt;code>CertPool.Subjects&lt;/code>&lt;/a> is deprecated. On Windows, macOS, and iOS the &lt;a href="https://go.dev/pkg/crypto/x509/#CertPool">&lt;code>CertPool&lt;/code>&lt;/a> returned by &lt;a href="https://go.dev/pkg/crypto/x509/#SystemCertPool">&lt;code>SystemCertPool&lt;/code>&lt;/a> will return a pool which does not include system roots in the slice returned by &lt;code>Subjects&lt;/code>, as a static list can&amp;rsquo;t appropriately represent the platform policies and might not be available at all from the platform APIs.&lt;/p>
&lt;p>Support for signing certificates using signature algorithms that depend on the MD5 hash (&lt;code>MD5WithRSA&lt;/code>) may be removed in Go 1.19.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/debug/dwarf/">debug/dwarf&lt;/a>&lt;/p>
&lt;p>The &lt;a href="https://go.dev/pkg/debug/dwarf#StructField">&lt;code>StructField&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/debug/dwarf#BasicType">&lt;code>BasicType&lt;/code>&lt;/a> structs both now have a &lt;code>DataBitOffset&lt;/code> field, which holds the value of the &lt;code>DW_AT_data_bit_offset&lt;/code> attribute if present.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/debug/elf/">debug/elf&lt;/a>&lt;/p>
&lt;p>The &lt;a href="https://go.dev/pkg/debug/elf/#R_PPC64_RELATIVE">&lt;code>R_PPC64_RELATIVE&lt;/code>&lt;/a> constant has been added.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/debug/plan9obj/">debug/plan9obj&lt;/a>&lt;/p>
&lt;p>The &lt;a href="https://go.dev/pkg/debug/plan9obj#File.Symbols">File.Symbols&lt;/a> method now returns the new exported error value &lt;a href="https://go.dev/pkg/debug/plan9obj#ErrNoSymbols">ErrNoSymbols&lt;/a> if the file has no symbol section.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/embed/">embed&lt;/a>&lt;/p>
&lt;p>A &lt;a href="https://go.dev/pkg/embed#hdr-Directives">&lt;code>go:embed&lt;/code>&lt;/a> directive may now start with &lt;code>all:&lt;/code> to include files whose names start with dot or underscore.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/go/ast/">go/ast&lt;/a>&lt;/p>
&lt;p>Per the proposal &lt;a href="https://go.googlesource.com/proposal/+/master/design/47781-parameterized-go-ast.md">Additions to go/ast and go/token to support parameterized functions and types&lt;/a> the following additions are made to the &lt;a href="https://go.dev/pkg/go/ast">&lt;code>go/ast&lt;/code>&lt;/a> package:&lt;/p>
&lt;ul>
&lt;li>the &lt;a href="https://go.dev/pkg/go/ast/#FuncType">&lt;code>FuncType&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/go/ast/#TypeSpec">&lt;code>TypeSpec&lt;/code>&lt;/a> nodes have a new field &lt;code>TypeParams&lt;/code> to hold type parameters, if any.&lt;/li>
&lt;li>The new expression node &lt;a href="https://go.dev/pkg/go/ast/#IndexListExpr">&lt;code>IndexListExpr&lt;/code>&lt;/a> represents index expressions with multiple indices, used for function and type instantiations with more than one explicit type argument.&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://go.dev/pkg/go/constant/">go/constant&lt;/a>&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/go/constant/#Kind.String">&lt;code>Kind.String&lt;/code>&lt;/a> method returns a human-readable name for the receiver kind.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/go/token/">go/token&lt;/a>&lt;/p>
&lt;p>The new constant &lt;a href="https://go.dev/pkg/go/token/#TILDE">&lt;code>TILDE&lt;/code>&lt;/a> represents the &lt;code>~&lt;/code> token per the proposal &lt;a href="https://go.googlesource.com/proposal/+/master/design/47781-parameterized-go-ast.md">Additions to go/ast and go/token to support parameterized functions and types&lt;/a> .&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/go/types/">go/types&lt;/a>&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/go/types/#Config.GoVersion">&lt;code>Config.GoVersion&lt;/code>&lt;/a> field sets the accepted Go language version.&lt;/p>
&lt;p>Per the proposal &lt;a href="https://go.googlesource.com/proposal/+/master/design/47916-parameterized-go-types.md">Additions to go/types to support type parameters&lt;/a> the following additions are made to the &lt;a href="https://go.dev/pkg/go/types">&lt;code>go/types&lt;/code>&lt;/a> package:&lt;/p>
&lt;ul>
&lt;li>The new type &lt;a href="https://go.dev/pkg/go/types/#TypeParam">&lt;code>TypeParam&lt;/code>&lt;/a>, factory function &lt;a href="https://go.dev/pkg/go/types/#NewTypeParam">&lt;code>NewTypeParam&lt;/code>&lt;/a>, and associated methods are added to represent a type parameter.&lt;/li>
&lt;li>The new type &lt;a href="https://go.dev/pkg/go/types/#TypeParamList">&lt;code>TypeParamList&lt;/code>&lt;/a> holds a list of type parameters.&lt;/li>
&lt;li>The new type &lt;a href="https://go.dev/pkg/go/types/#TypeList">&lt;code>TypeList&lt;/code>&lt;/a> holds a list of types.&lt;/li>
&lt;li>The new factory function &lt;a href="https://go.dev/pkg/go/types/#NewSignatureType">&lt;code>NewSignatureType&lt;/code>&lt;/a> allocates a &lt;a href="https://go.dev/pkg/go/types/#Signature">&lt;code>Signature&lt;/code>&lt;/a> with (receiver or function) type parameters. To access those type parameters, the &lt;code>Signature&lt;/code> type has two new methods &lt;a href="https://go.dev/pkg/go/types/#Signature.RecvTypeParams">&lt;code>Signature.RecvTypeParams&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/go/types/#Signature.TypeParams">&lt;code>Signature.TypeParams&lt;/code>&lt;/a>.&lt;/li>
&lt;li>&lt;a href="https://go.dev/pkg/go/types/#Named">&lt;code>Named&lt;/code>&lt;/a> types have four new methods: &lt;a href="https://go.dev/pkg/go/types/#Named.Origin">&lt;code>Named.Origin&lt;/code>&lt;/a> to get the original parameterized types of instantiated types, &lt;a href="https://go.dev/pkg/go/types/#Named.TypeArgs">&lt;code>Named.TypeArgs&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/go/types/#Named.TypeParams">&lt;code>Named.TypeParams&lt;/code>&lt;/a> to get the type arguments or type parameters of an instantiated or parameterized type, and &lt;a href="https://go.dev/pkg/go/types/#Named.TypeParams">&lt;code>Named.SetTypeParams&lt;/code>&lt;/a> to set the type parameters (for instance, when importing a named type where allocation of the named type and setting of type parameters cannot be done simultaneously due to possible cycles).&lt;/li>
&lt;li>The &lt;a href="https://go.dev/pkg/go/types/#Interface">&lt;code>Interface&lt;/code>&lt;/a> type has four new methods: &lt;a href="https://go.dev/pkg/go/types/#Interface.IsComparable">&lt;code>Interface.IsComparable&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/go/types/#Interface.IsMethodSet">&lt;code>Interface.IsMethodSet&lt;/code>&lt;/a> to query properties of the type set defined by the interface, and &lt;a href="https://go.dev/pkg/go/types/#Interface.MarkImplicit">&lt;code>Interface.MarkImplicit&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/go/types/#Interface.IsImplicit">&lt;code>Interface.IsImplicit&lt;/code>&lt;/a> to set and test whether the interface is an implicit interface around a type constraint literal.&lt;/li>
&lt;li>The new types &lt;a href="https://go.dev/pkg/go/types/#Union">&lt;code>Union&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/go/types/#Term">&lt;code>Term&lt;/code>&lt;/a>, factory functions &lt;a href="https://go.dev/pkg/go/types/#NewUnion">&lt;code>NewUnion&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/go/types/#NewTerm">&lt;code>NewTerm&lt;/code>&lt;/a>, and associated methods are added to represent type sets in interfaces.&lt;/li>
&lt;li>The new function &lt;a href="https://go.dev/pkg/go/types/#Instantiate">&lt;code>Instantiate&lt;/code>&lt;/a> instantiates a parameterized type.&lt;/li>
&lt;li>The new &lt;a href="https://go.dev/pkg/go/types/#Info.Instances">&lt;code>Info.Instances&lt;/code>&lt;/a> map records function and type instantiations through the new &lt;a href="https://go.dev/pkg/go/types/#Instance">&lt;code>Instance&lt;/code>&lt;/a> type.&lt;/li>
&lt;li>The new type &lt;a href="https://go.dev/pkg/go/types/#ArgumentError">&lt;code>ArgumentError&lt;/code>&lt;/a> and associated methods are added to represent an error related to a type argument.&lt;/li>
&lt;li>The new type &lt;a href="https://go.dev/pkg/go/types/#Context">&lt;code>Context&lt;/code>&lt;/a> and factory function &lt;a href="https://go.dev/pkg/go/types/#NewContext">&lt;code>NewContext&lt;/code>&lt;/a> are added to facilitate sharing of identical type instances across type-checked packages, via the new &lt;a href="https://go.dev/pkg/go/types/#Config.Context">&lt;code>Config.Context&lt;/code>&lt;/a> field.&lt;/li>
&lt;/ul>
&lt;p>The predicates &lt;a href="https://go.dev/pkg/go/types/#AssignableTo">&lt;code>AssignableTo&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/go/types/#ConvertibleTo">&lt;code>ConvertibleTo&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/go/types/#Implements">&lt;code>Implements&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/go/types/#Identical">&lt;code>Identical&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/go/types/#IdenticalIgnoreTags">&lt;code>IdenticalIgnoreTags&lt;/code>&lt;/a>, and &lt;a href="https://go.dev/pkg/go/types/#AssertableTo">&lt;code>AssertableTo&lt;/code>&lt;/a> now also work with arguments that are or contain generalized interfaces, i.e. interfaces that may only be used as type constraints in Go code. Note that the behavior of &lt;code>AssignableTo&lt;/code>, &lt;code>ConvertibleTo&lt;/code>, &lt;code>Implements&lt;/code>, and &lt;code>AssertableTo&lt;/code> is undefined with arguments that are uninstantiated generic types, and &lt;code>AssertableTo&lt;/code> is undefined if the first argument is a generalized interface.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/html/template/">html/template&lt;/a>&lt;/p>
&lt;p>Within a &lt;code>range&lt;/code> pipeline the new &lt;code>{{break}}&lt;/code> command will end the loop early and the new &lt;code>{{continue}}&lt;/code> command will immediately start the next loop iteration.&lt;/p>
&lt;p>The &lt;code>and&lt;/code> function no longer always evaluates all arguments; it stops evaluating arguments after the first argument that evaluates to false. Similarly, the &lt;code>or&lt;/code> function now stops evaluating arguments after the first argument that evaluates to true. This makes a difference if any of the arguments is a function call.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/image/draw/">image/draw&lt;/a>&lt;/p>
&lt;p>The &lt;code>Draw&lt;/code> and &lt;code>DrawMask&lt;/code> fallback implementations (used when the arguments are not the most common image types) are now faster when those arguments implement the optional &lt;a href="https://go.dev/pkg/image/draw/#RGBA64Image">&lt;code>draw.RGBA64Image&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/image/#RGBA64Image">&lt;code>image.RGBA64Image&lt;/code>&lt;/a> interfaces that were added in Go 1.17.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/net/">net&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/net#Error">&lt;code>net.Error.Temporary&lt;/code>&lt;/a> has been deprecated.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/net/http/">net/http&lt;/a>&lt;/p>
&lt;p>On WebAssembly targets, the &lt;code>Dial&lt;/code>, &lt;code>DialContext&lt;/code>, &lt;code>DialTLS&lt;/code> and &lt;code>DialTLSContext&lt;/code> method fields in &lt;a href="https://go.dev/pkg/net/http/#Transport">&lt;code>Transport&lt;/code>&lt;/a> will now be correctly used, if specified, for making HTTP requests.&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/net/http#Cookie.Valid">&lt;code>Cookie.Valid&lt;/code>&lt;/a> method reports whether the cookie is valid.&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/net/http#MaxBytesHandler">&lt;code>MaxBytesHandler&lt;/code>&lt;/a> function creates a &lt;code>Handler&lt;/code> that wraps its &lt;code>ResponseWriter&lt;/code> and &lt;code>Request.Body&lt;/code> with a &lt;a href="https://go.dev/pkg/net/http#MaxBytesReader">&lt;code>MaxBytesReader&lt;/code>&lt;/a>.&lt;/p>
&lt;p>When looking up a domain name containing non-ASCII characters, the Unicode-to-ASCII conversion is now done in accordance with Nontransitional Processing as defined in the &lt;a href="https://unicode.org/reports/tr46/">Unicode IDNA Compatibility Processing&lt;/a> standard (UTS #46). The interpretation of four distinct runes are changed: ß, ς, zero-width joiner U+200D, and zero-width non-joiner U+200C. Nontransitional Processing is consistent with most applications and web browsers.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/os/user/">os/user&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/os/user#User.GroupIds">&lt;code>User.GroupIds&lt;/code>&lt;/a> now uses a Go native implementation when cgo is not available.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/reflect/">reflect&lt;/a>&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/reflect/#Value.SetIterKey">&lt;code>Value.SetIterKey&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/reflect/#Value.SetIterValue">&lt;code>Value.SetIterValue&lt;/code>&lt;/a> methods set a Value using a map iterator as the source. They are equivalent to &lt;code>Value.Set(iter.Key())&lt;/code> and &lt;code>Value.Set(iter.Value())&lt;/code>, but do fewer allocations.&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/reflect/#Value.UnsafePointer">&lt;code>Value.UnsafePointer&lt;/code>&lt;/a> method returns the Value&amp;rsquo;s value as an &lt;a href="https://go.dev/pkg/unsafe/#Pointer">&lt;code>unsafe.Pointer&lt;/code>&lt;/a>. This allows callers to migrate from &lt;a href="https://go.dev/pkg/reflect/#Value.UnsafeAddr">&lt;code>Value.UnsafeAddr&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/reflect/#Value.Pointer">&lt;code>Value.Pointer&lt;/code>&lt;/a> to eliminate the need to perform uintptr to unsafe.Pointer conversions at the callsite (as unsafe.Pointer rules require).&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/reflect/#MapIter.Reset">&lt;code>MapIter.Reset&lt;/code>&lt;/a> method changes its receiver to iterate over a different map. The use of &lt;a href="https://go.dev/pkg/reflect/#MapIter.Reset">&lt;code>MapIter.Reset&lt;/code>&lt;/a> allows allocation-free iteration over many maps.&lt;/p>
&lt;p>A number of methods ( &lt;a href="https://go.dev/pkg/reflect#Value.CanInt">&lt;code>Value.CanInt&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/reflect#Value.CanUint">&lt;code>Value.CanUint&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/reflect#Value.CanFloat">&lt;code>Value.CanFloat&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/reflect#Value.CanComplex">&lt;code>Value.CanComplex&lt;/code>&lt;/a> ) have been added to &lt;a href="https://go.dev/pkg/reflect#Value">&lt;code>Value&lt;/code>&lt;/a> to test if a conversion is safe.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/reflect#Value.FieldByIndexErr">&lt;code>Value.FieldByIndexErr&lt;/code>&lt;/a> has been added to avoid the panic that occurs in &lt;a href="https://go.dev/pkg/reflect#Value.FieldByIndex">&lt;code>Value.FieldByIndex&lt;/code>&lt;/a> when stepping through a nil pointer to an embedded struct.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/reflect#Ptr">&lt;code>reflect.Ptr&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/reflect#PtrTo">&lt;code>reflect.PtrTo&lt;/code>&lt;/a> have been renamed to &lt;a href="https://go.dev/pkg/reflect#Pointer">&lt;code>reflect.Pointer&lt;/code>&lt;/a> and &lt;a href="https://go.dev/pkg/reflect#PointerTo">&lt;code>reflect.PointerTo&lt;/code>&lt;/a>, respectively, for consistency with the rest of the reflect package. The old names will continue to work, but will be deprecated in a future Go release.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/regexp/">regexp&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/regexp/">&lt;code>regexp&lt;/code>&lt;/a> now treats each invalid byte of a UTF-8 string as &lt;code>U+FFFD&lt;/code>.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/runtime/debug/">runtime/debug&lt;/a>&lt;/p>
&lt;p>The &lt;a href="https://go.dev/pkg/runtime/debug#BuildInfo">&lt;code>BuildInfo&lt;/code>&lt;/a> struct has two new fields, containing additional information about how the binary was built:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://go.dev/pkg/runtime/debug#BuildInfo.GoVersion">&lt;code>GoVersion&lt;/code>&lt;/a> holds the version of Go used to build the binary.&lt;/li>
&lt;li>&lt;a href="https://go.dev/pkg/runtime/debug#BuildInfo.Settings">&lt;code>Settings&lt;/code>&lt;/a> is a slice of &lt;a href="https://go.dev/pkg/runtime/debug#BuildSettings">&lt;code>BuildSettings&lt;/code>&lt;/a> structs holding key/value pairs describing the build.&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://go.dev/pkg/runtime/pprof/">runtime/pprof&lt;/a>&lt;/p>
&lt;p>The CPU profiler now uses per-thread timers on Linux. This increases the maximum CPU usage that a profile can observe, and reduces some forms of bias.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/strconv/">strconv&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/strconv/#strconv.Unquote">&lt;code>strconv.Unquote&lt;/code>&lt;/a> now rejects Unicode surrogate halves.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/strings/">strings&lt;/a>&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/strings/#Cut">&lt;code>Cut&lt;/code>&lt;/a> function slices a &lt;code>string&lt;/code> around a separator. It can replace and simplify many common uses of &lt;a href="https://go.dev/pkg/strings/#Index">&lt;code>Index&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/strings/#IndexByte">&lt;code>IndexByte&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/strings/#IndexRune">&lt;code>IndexRune&lt;/code>&lt;/a>, and &lt;a href="https://go.dev/pkg/strings/#SplitN">&lt;code>SplitN&lt;/code>&lt;/a>.&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/strings/#Clone">&lt;code>Clone&lt;/code>&lt;/a> function copies the input &lt;code>string&lt;/code> without the returned cloned &lt;code>string&lt;/code> referencing the input string&amp;rsquo;s memory.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/strings/#Trim">&lt;code>Trim&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/strings/#TrimLeft">&lt;code>TrimLeft&lt;/code>&lt;/a>, and &lt;a href="https://go.dev/pkg/strings/#TrimRight">&lt;code>TrimRight&lt;/code>&lt;/a> are now allocation free and, especially for small ASCII cutsets, up to 10 times faster.&lt;/p>
&lt;p>The &lt;a href="https://go.dev/pkg/strings/#Title">&lt;code>Title&lt;/code>&lt;/a> function is now deprecated. It doesn&amp;rsquo;t handle Unicode punctuation and language-specific capitalization rules, and is superseded by the &lt;a href="https://golang.org/x/text/cases">golang.org/x/text/cases&lt;/a> package.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/sync/">sync&lt;/a>&lt;/p>
&lt;p>The new methods &lt;a href="https://go.dev/pkg/sync#Mutex.TryLock">&lt;code>Mutex.TryLock&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/sync#RWMutex.TryLock">&lt;code>RWMutex.TryLock&lt;/code>&lt;/a>, and &lt;a href="https://go.dev/pkg/sync#RWMutex.TryRLock">&lt;code>RWMutex.TryRLock&lt;/code>&lt;/a>, will acquire the lock if it is not currently held.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/syscall/">syscall&lt;/a>&lt;/p>
&lt;p>The new function &lt;a href="https://go.dev/pkg/syscall/?GOOS=windows#SyscallN">&lt;code>SyscallN&lt;/code>&lt;/a> has been introduced for Windows, allowing for calls with arbitrary number of arguments. As a result, &lt;a href="https://go.dev/pkg/syscall/?GOOS=windows#Syscall">&lt;code>Syscall&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/syscall/?GOOS=windows#Syscall6">&lt;code>Syscall6&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/syscall/?GOOS=windows#Syscall9">&lt;code>Syscall9&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/syscall/?GOOS=windows#Syscall12">&lt;code>Syscall12&lt;/code>&lt;/a>, &lt;a href="https://go.dev/pkg/syscall/?GOOS=windows#Syscall15">&lt;code>Syscall15&lt;/code>&lt;/a>, and &lt;a href="https://go.dev/pkg/syscall/?GOOS=windows#Syscall18">&lt;code>Syscall18&lt;/code>&lt;/a> are deprecated in favor of &lt;a href="https://go.dev/pkg/syscall/?GOOS=windows#SyscallN">&lt;code>SyscallN&lt;/code>&lt;/a>.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/syscall/?GOOS=freebsd#SysProcAttr.Pdeathsig">&lt;code>SysProcAttr.Pdeathsig&lt;/code>&lt;/a> is now supported in FreeBSD.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/syscall/js/">syscall/js&lt;/a>&lt;/p>
&lt;p>The &lt;code>Wrapper&lt;/code> interface has been removed.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/testing/">testing&lt;/a>&lt;/p>
&lt;p>The precedence of &lt;code>/&lt;/code> in the argument for &lt;code>-run&lt;/code> and &lt;code>-bench&lt;/code> has been increased. &lt;code>A/B|C/D&lt;/code> used to be treated as &lt;code>A/(B|C)/D&lt;/code> and is now treated as &lt;code>(A/B)|(C/D)&lt;/code>.&lt;/p>
&lt;p>If the &lt;code>-run&lt;/code> option does not select any tests, the &lt;code>-count&lt;/code> option is ignored. This could change the behavior of existing tests in the unlikely case that a test changes the set of subtests that are run each time the test function itself is run.&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/testing#F">&lt;code>testing.F&lt;/code>&lt;/a> type is used by the new &lt;a href="https://go.dev/doc/go1.18#fuzzing">fuzzing support described above&lt;/a>. Tests also now support the command line options &lt;code>-test.fuzz&lt;/code>, &lt;code>-test.fuzztime&lt;/code>, and &lt;code>-test.fuzzminimizetime&lt;/code>.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/text/template/">text/template&lt;/a>&lt;/p>
&lt;p>Within a &lt;code>range&lt;/code> pipeline the new &lt;code>{{break}}&lt;/code> command will end the loop early and the new &lt;code>{{continue}}&lt;/code> command will immediately start the next loop iteration.&lt;/p>
&lt;p>The &lt;code>and&lt;/code> function no longer always evaluates all arguments; it stops evaluating arguments after the first argument that evaluates to false. Similarly, the &lt;code>or&lt;/code> function now stops evaluating arguments after the first argument that evaluates to true. This makes a difference if any of the arguments is a function call.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/text/template/parse/">text/template/parse&lt;/a>&lt;/p>
&lt;p>The package supports the new &lt;a href="https://go.dev/pkg/text/template/">text/template&lt;/a> and &lt;a href="https://go.dev/pkg/html/template/">html/template&lt;/a> &lt;code>{{break}}&lt;/code> command via the new constant &lt;a href="https://go.dev/pkg/text/template/parse#NodeBreak">&lt;code>NodeBreak&lt;/code>&lt;/a> and the new type &lt;a href="https://go.dev/pkg/text/template/parse#BreakNode">&lt;code>BreakNode&lt;/code>&lt;/a>, and similarly supports the new &lt;code>{{continue}}&lt;/code> command via the new constant &lt;a href="https://go.dev/pkg/text/template/parse#NodeContinue">&lt;code>NodeContinue&lt;/code>&lt;/a> and the new type &lt;a href="https://go.dev/pkg/text/template/parse#ContinueNode">&lt;code>ContinueNode&lt;/code>&lt;/a>.&lt;/p>
&lt;p>&lt;a href="https://go.dev/pkg/unicode/utf8/">unicode/utf8&lt;/a>&lt;/p>
&lt;p>The new &lt;a href="https://go.dev/pkg/unicode/utf8/#AppendRune">&lt;code>AppendRune&lt;/code>&lt;/a> function appends the UTF-8 encoding of a &lt;code>rune&lt;/code> to a &lt;code>[]byte&lt;/code>.&lt;/p>
&lt;h2 id="reference">Reference&lt;/h2>
&lt;p>&lt;a href="https://go.dev/doc/go1.18">https://go.dev/doc/go1.18&lt;/a>&lt;/p></description></item><item><title>Blog: This Is My Post2</title><link>/blog/this-is-my-post2/</link><pubDate>Fri, 21 Jan 2022 10:19:18 +0000</pubDate><guid>/blog/this-is-my-post2/</guid><description>
&lt;p>Hello, this is a my post 2 page.&lt;/p></description></item><item><title>Blog: This Is My Post1</title><link>/blog/this-is-my-post1/</link><pubDate>Fri, 21 Jan 2022 10:19:14 +0000</pubDate><guid>/blog/this-is-my-post1/</guid><description>
&lt;p>Hello, this is a my post 2 page.&lt;/p></description></item></channel></rss>